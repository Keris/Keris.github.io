<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts | æœåˆ©å¼º</title>
    <link>https://keris.github.io/zh/post/</link>
      <atom:link href="https://keris.github.io/zh/post/index.xml" rel="self" type="application/rss+xml" />
    <description>Posts</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>zh-Hans</language><lastBuildDate>Sun, 05 Apr 2020 19:40:58 +0800</lastBuildDate>
    <image>
      <url>https://keris.github.io/images/icon_hu0fc6cda6d9ee8f97aed5fca718c40606_62996_512x512_fill_lanczos_center_2.png</url>
      <title>Posts</title>
      <link>https://keris.github.io/zh/post/</link>
    </image>
    
    <item>
      <title>åå…ƒè›‹ç‚’é¥­</title>
      <link>https://keris.github.io/zh/post/shi-yuan-danchaofan/</link>
      <pubDate>Sun, 05 Apr 2020 19:40:58 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/shi-yuan-danchaofan/</guid>
      <description>&lt;p&gt;éšç€é€æ­¥çš„å¤å·¥ï¼Œé™„è¿‘çš„é¤é¦†é™†ç»­å¼€å§‹è¥ä¸šäº†ï¼Œè¿™ä½¿å¾—æˆ‘å¯ä»¥é€‰æ‹©èµ°å‡ºå±‹å­ä¸Šå¤§è¡—åƒä¸Šä¸€é¡¿ã€‚æ—©ä¸Šå–äº†ä¸€ç¢—ç‰›å¥¶æ³¡ç‡•éº¦ï¼Œåƒäº†ä¸€ç‰‡åœŸå¸é¢åŒ…ï¼Œäº›è®¸åšæœå’Œå››ä¸ªé¸¡è›‹ã€‚æ‰€ä»¥åˆ°åƒåˆé¥­æ—¶ä¹Ÿä¸æ€ä¹ˆé¥¿ï¼Œç”±äºå…»æˆäº†æŒ‰æ—¶åƒé¥­çš„ä¹ æƒ¯ï¼Œå°±è¿˜æ˜¯å‡ºå»åƒï¼Œä½†å¿ƒé‡Œæš—åœ°æç¤ºè‡ªå·±å°‘åƒä¸€äº›ã€‚å°åŒºé©¬è·¯å¯¹é¢æœ‰å¥½å‡ å®¶é¤é¦†ï¼Œå¦æœ‰ä¸€å®¶ä¾¿åˆ©åº—ã€‚è€Œå¦ä¸€ä¾§åªæœ‰ä¸€å®¶ï¼Œæä¾›æ–°ç–†ç¾é£Ÿã€‚æˆ‘å…ˆæ˜¯å»äº†ä¾¿åˆ©åº—ï¼Œç¯é¡¾ä¸€åœˆæœªå‘ç°å¼•èµ·èƒƒå£çš„ä»€ç‰©ä¾¿å‡ºäº†é—¨ã€‚éš”å£é¤é¦†é—¨å¤–è´´ç€èœå•ï¼Œçœ‹è¿‡ä¸€ç•ªä¹‹åï¼Œè›‹ç‚’é¥­å…¥äº†æˆ‘çœ¼ï¼Œå¹¶ä¸”åªå–10å—é’±ã€‚å…¶å®ï¼Œè¿™å®¶é¤é¦†æ‰€æœ‰çš„é¥­éƒ½æ¯”è¾ƒä»·å»‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿‡äº†ä¸ä¸€ä¼šå„¿è›‹ç‚’é¥­ä¾¿å¥½äº†ï¼Œä¸€ä¸ªå¹´çºªäº”åå·¦å³çš„é˜¿å§¨ç«¯åˆ°äº†æˆ‘è¿™è¾¹ã€‚æˆ‘ç”¨å‹ºå­åƒäº†å‡ å£ï¼Œæ•´ä½“å‘³é“è¿˜ç®—ä¸é”™ï¼Œä½†æœ‰çš„åœ°æ–¹ä¼šå‘ç°æ¯”è¾ƒå’¸ã€‚è¿™ä»½è›‹ç‚’é¥­é™¤äº†ç±³é¥­å’Œé¸¡è›‹ï¼ŒåŒ…å«äº†é»„ç“œã€èƒ¡èåœå’Œæ´‹è‘±ï¼Œå¹¶ä¸”ä»½é‡ä¸­ç­‰ï¼Œè¿™ååˆ†å¯¹å¾—èµ·10å—é’±çš„ä»·æ ¼ï¼Œæˆ‘å¯»æ€è€æ¿æ˜¯ä¸æ˜¯åœ¨åšå…¬ç›Šï¼Œè¿˜æ˜¯åˆ«çš„å®¶èµšå–çš„å¤ªå¤šã€‚&lt;/p&gt;
&lt;p&gt;è¯´èµ·è›‹ç‚’é¥­ï¼Œæˆ‘æœ€çˆ±åƒå®¶é‡Œåšçš„ï¼Œæˆ‘å¦ˆç‚’çš„ã€‚åœ¨å®¶é‡Œåªæœ‰åœ¨å‰©äº†é¥­æ‰æœ‰æœºä¼šåšç‚’é¥­ï¼Œå¹¶ä¸”ä¸åŠ é¸¡è›‹ã€‚å‰©é¥­ä¼šå’Œå‰©èœä¸€èµ·ç‚’ï¼Œè¿™æ ·ç‚’å‡ºæ¥å¾€å¾€æ¯”è¾ƒæ²¹è…»ï¼Œä½†ä¸æ¯«ä¸å½±å“é¥­çš„æŠ¢æ‰‹å’Œå¥½åƒã€‚åæ¥æˆ‘æƒ³äº†æƒ³ï¼Œå…¶å®è¦å¤©å¤©è¿™æ ·åƒè‚¯å®šä¹Ÿä¼šè…»ã€‚ä¹‹æ‰€ä»¥æˆ‘ä¸€ç›´è§‰å¾—å®¶é‡Œçš„ç‚’é¥­å…·æœ‰ç‰¹åˆ«çš„å‘³é“ï¼Œä¸€ä¸ªæ˜¯è¥¿åŒ—çš„é¥®é£Ÿä¹ æƒ¯è®©æˆ‘ä»¬ä»¥é¢é£Ÿä¸ºä¸»ï¼Œç±³é¥­ä¸ºè¾…ï¼Œæ‰€ä»¥åƒè‡ªå®¶ç‚’é¥­çš„æœºä¼šä¸å¤šï¼›äºŒæ˜¯å‰©é¥­ä¸€èˆ¬è¾ƒå°‘ï¼Œåšå‡ºæ¥çš„ç‚’é¥­å°±æ¯”è¾ƒå°‘ï¼Œå¯¹äºä¸€å®¶å››å£è€Œè¨€ä¹Ÿå°±æ¯äººä¸€å°ç¢—ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ç¡¬å¸æŠ•æ·æ¨¡æ‹Ÿå®éªŒ</title>
      <link>https://keris.github.io/zh/post/coin-toss-experiment/</link>
      <pubDate>Sat, 04 Apr 2020 17:53:27 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/coin-toss-experiment/</guid>
      <description>&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import matplotlib.pyplot as plt
import numpy as np
import random
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ·ç¡¬å¸æ¨¡æ‹Ÿå®éªŒä¸€&#34;&gt;æ·ç¡¬å¸æ¨¡æ‹Ÿå®éªŒä¸€&lt;/h2&gt;
&lt;p&gt;å‡è®¾ä¸€æšç¡¬å¸è½åœ°åæ­£é¢æœä¸Šçš„æ¦‚ç‡ä¸º$p$ï¼Œè¿›è¡Œ$n$æ¬¡æŠ•æ·ã€‚é€šè¿‡æ¨¡æ‹Ÿå®éªŒéªŒè¯æ­£é¢æœä¸Šçš„æ¯”ä¾‹å°†éšç€æŠ•æ·æ¬¡æ•°çš„å¢åŠ è¶Šæ¥è¶Šæ¥è¿‘$p$ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è¿›è¡Œä¸€æ¬¡æŠ•æ·ï¼Œå¦‚æœè¿”å›Trueåˆ™è¡¨ç¤ºè·å¾—æ­£é¢ï¼Œå¦åˆ™åé¢
def make_a_toss(p):
    r = random.randint(1, 100)
    return r &amp;lt;= (100*p)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def simulate1(p, n=1000):
    heads = []
    count = 0
    for i in range(n):
        if make_a_toss(p):
            count += 1
        heads.append(count)
    x = np.array(range(1, n + 1))
    y = np.array(heads).astype(np.float32) / x
    plt.plot(x, y)
    plt.plot(x, np.ones(n) * p)
    plt.xlabel(&#39;The number of tosses&#39;)
    plt.ylabel(&#39;The proportion of heads&#39;)
    plt.title(f&#39;p = {p}&#39;)
    plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# p=0.3
simulate1(0.3)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;output_4_0.png&#34; alt=&#34;png&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# p=0.03
simulate1(.03, 10000)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;output_5_0.png&#34; alt=&#34;png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ·ç¡¬å¸æ¨¡æ‹Ÿå®éªŒäºŒ&#34;&gt;æ·ç¡¬å¸æ¨¡æ‹Ÿå®éªŒäºŒ&lt;/h2&gt;
&lt;p&gt;å‡è®¾ä¸€æšç¡¬å¸è½åœ°åæ­£é¢æœä¸Šçš„æ¦‚ç‡ä¸º$p$ï¼Œè¿›è¡Œ$n$æ¬¡æŠ•æ·ï¼Œå®šä¹‰$X$ä¸ºæ­£é¢æœä¸Šçš„æ¬¡æ•°ã€‚é€šè¿‡æ¨¡æ‹Ÿå®éªŒéªŒè¯$X$å°†éšç€å®éªŒæ¬¡æ•°çš„å¢åŠ è¶Šæ¥è¶Šæ¥è¿‘$np$ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def moving_avg(x):
    result = np.array([.0] * len(x))
    s = 0
    for i, v in enumerate(x):
        s += v
        result[i] = s / (i + 1)
    return result
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def simulate2(p, n=1000):

    def one_experiment():
        heads = 0
        for i in range(n):
            if make_a_toss(p):
                heads += 1
        return heads

    heads = []
    for _ in range(1000): # do 1000 experiments
        heads.append(one_experiment())
    x = np.array(range(1, 1001))
    y = moving_avg(heads)
    plt.plot(x, y)
    plt.plot(x, np.ones(1000) * p * n)
    plt.xlabel(&#39;The number of experiments&#39;)
    plt.ylabel(&#39;The number of heads&#39;)
    plt.title(f&#39;p = {p}&#39;)
    plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# p=0.3, n=10
simulate2(0.3, 10)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;output_9_0.png&#34; alt=&#34;png&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# p=0.3, n=100
simulate2(0.3, 100)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;output_10_0.png&#34; alt=&#34;png&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# p=0.3, n=1000
simulate2(0.3, 1000)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;output_11_0.png&#34; alt=&#34;png&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸€ä¸ªæ¦‚ç‡é—®é¢˜</title>
      <link>https://keris.github.io/zh/post/a-probability-problem/</link>
      <pubDate>Sat, 04 Apr 2020 13:02:41 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/a-probability-problem/</guid>
      <description>&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰æˆ‘æƒ³è¯´ä¸‹è¿™ä¸ªé…å›¾ï¼Œå®ƒæ˜¯æˆ‘ä»Šå¤©æ—©ä¸Šæ‹çš„ï¼Œé‡Œé¢æ˜¯è‡ªå·±åšçš„æ—©é¤ï¼Œç›˜ä¸­æ˜¯ä¸€ä¸ªé¦™è•‰åˆ‡äº†å››å°æ®µï¼Œä¸€ç‰‡åå¸é¢åŒ…å’Œäº›è®¸è…°æœï¼Œè€Œæ—è¾¹çš„ç¢—ä¸­æ˜¯ç‰›å¥¶æ³¡ç‡•éº¦ã€‚è¿™æ ·çš„æ­é…æˆ‘å·²ç»åƒäº†ä¸€å‘¨äº†ï¼Œæˆ‘å·²ç»æ„Ÿå—åˆ°äº†ç§¯æçš„å˜åŒ–ï¼Œè€ŒåŸå…ˆæˆ‘éƒ½æ˜¯ä¸åƒæ—©é¤æˆ–è€…åœ¨ä¸‹åœ°é“åé¡ºè·¯ä¹°ä¸€ä»½éº¦å½“åŠ³ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘å›åˆ°æ­£é¢˜ä¸Šã€‚è¿™ä¸ªæ¦‚ç‡é—®é¢˜å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ‰ä¸€ä¸ªç›’å­ï¼Œé‡Œé¢æ”¾äº†10ä¸ªçƒï¼Œæ¯ä¸ªä¸Šé¢æ ‡äº†1åˆ°10ä¹‹é—´çš„æŸä¸ªæ•°å­—ï¼Œç°åœ¨è¿›è¡Œ3æ¬¡æœ‰æ”¾å›çš„æŠ½å–ï¼Œé—®ç¬¬ä¸€æ¬¡çš„å·å°äºç¬¬äºŒæ¬¡ï¼Œç¬¬äºŒæ¬¡åˆå°äºç¬¬ä¸‰æ¬¡çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å…¶å®ä¸éš¾ï¼Œæˆ‘è‡ªè®¤ä¸ºæ™ºå•†ä¸­ç­‰åä¸‹ï¼Œè¿™ä¸ªé¢˜å½“æˆ‘åœ¨é¢è¯•æ—¶æ²¡æœ‰è§£å‡ºæ¥ğŸ˜ã€‚ä¸‹é¢æˆ‘å›é¡¾ä¸€ä¸‹å½“åˆçš„æƒ…æ™¯ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘çŸ¥é“æ ·æœ¬ç©ºé—´$\Omega$çš„å¤§å°ä¸º$|\Omega| = 10^3 = 1000$ï¼Œå¦‚æœæˆ‘ä»¬å°†æ‰€æ±‚äº‹ä»¶è®°ä¸º$A$ï¼Œå¹¶ä¸”ç¬¬$i$æ¬¡æŠ½å–å¾—åˆ°çš„å·ä¸º$N_i(i=1,2,3)$ï¼Œåˆ™$A = \{\omega = (N_1, N_2, N_3) \in \Omega: N_1 \lt N_2 \lt N_3\}$ã€‚ç°åœ¨è¦è®¡ç®—çš„æ˜¯$|A|$ï¼Œå³äº‹ä»¶$A$åŒ…å«äº†å¤šå°‘ä¸ªç‚¹ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘é‡‡å–é€ä¸ªæ•°çš„ç­–ç•¥ï¼Œä½†ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚$N_1$å¯ä»¥å–1åˆ°8ä¹‹é—´çš„æ•°å­—ï¼Œç„¶åå†è€ƒè™‘$N_2$çš„å–å€¼ï¼Œæœ€åæ˜¯$N_3$ã€‚&lt;/p&gt;
&lt;p&gt;$N_1 = 1$çš„æƒ…å†µ:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;    1
   /  \
  2 ... 9
 /  \    \
3 ... 10  10
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šç¤ºæ„å›¾ä¸­ï¼Œæ¯ä¸€å±‚è¡¨ç¤º$N_i(i=1,2,3)$çš„å–å€¼ï¼Œæœ€åè¦è®¡ç®—çš„æ˜¯å¶å­èŠ‚ç‚¹çš„æ•°ç›®ã€‚
å®¹æ˜“è®¡ç®—å½“$N_1 = 1$æ—¶ï¼Œå…±æœ‰$8 + 7 + \cdots + 1 = \frac{8 \cdot (8 + 1)}{2} = 36$ä¸ªå¶å­ç»“ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼åœ°ï¼Œ&lt;/p&gt;
&lt;p&gt;$N_1=2$æ—¶ï¼Œæœ‰$7 + \cdots + 1 = \frac{7 \cdot (7 + 1)}{2} = 28$ï¼Œ&lt;/p&gt;
&lt;p&gt;&amp;hellip;&lt;/p&gt;
&lt;p&gt;$N_1=8$æ—¶ï¼Œæœ‰$1$ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åçš„ç­”æ¡ˆæ˜¯$|A| = 36 + 28 + 21 + 15 + 10 + 6 + 3 + 1 = 120$ï¼Œæ‰€ä»¥æ‰€æ±‚æ¦‚ç‡ä¸º$P = \frac{|A|}{|\Omega|} = \frac{120}{1000} = .12$ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šç­”æ¡ˆæˆ‘åœ¨å½“æ—¶çš„æƒ…æ™¯ä¸‹é™äºæ—¶é—´ä»¥åŠæœ‰äº›è®¸ç´§å¼ ä¹Ÿæ²¡æœ‰ç»™å‡ºğŸ˜ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ—¶æˆ‘è¿˜æœ‰ä¸ªæƒ³æ³•å°±æ˜¯ä½¿ç”¨ç¨‹åºçš„æ–¹æ³•è¿›è¡Œè®¡æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;count = 0
for i in range(1, 9): # N1
  for j in range(i+1, 11): # N2
    for k in range(j+1, 11): # N3
      count += 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šç»“æœä¹Ÿä¼šç»™å‡ºæ­£ç¡®çš„ç»“æœå³120ã€‚è¿™ä¸ªæƒ³æ³•åœ¨å½“æ—¶è€ƒè™‘åˆ°åˆ‡å±ä¼šæœ‰ä¸å¥½çš„å½±å“ï¼Œæ²¡æœ‰å®è¡Œã€‚&lt;/p&gt;
&lt;p&gt;åæ¥ä¸€ç»†æƒ³ï¼Œä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½ä¸æ˜¯æœ€ä¼˜çš„ï¼Œå†ä¸‰æ€è€ƒä¹‹åå¾—åˆ°äº†æœ€ä½³æ–¹æ³•ã€‚çœ‹æ¥è‡ªå·±è„‘å­ä¸å¥½ä½¿äº†ï¼Œå¯¹æ¦‚ç‡æ±‚è§£ç”Ÿç–ä¹Ÿæ˜¯åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¯´è¯´æ€ä¹ˆæœ€ä¼˜æ±‚è§£ã€‚&lt;/p&gt;
&lt;p&gt;äº‹ä»¶$A$ä¸­ä¸‰ä¸ªæ•°éƒ½ä¸åŒï¼Œä»10ä¸ªæ•°è¿ç»­3æ¬¡å–ä¸åŒå…±æœ‰$10 \cdot 9 \cdot 8 = 720$ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦$N_1 \lt N_2 \lt N_3$ï¼Œè€Œä¸‰ä¸ªæ•°çš„æ’åˆ—å…±æœ‰$3! = 6$ç§ï¼Œå…¶ä¸­åªæœ‰ä¸€ç§æ»¡è¶³è¦æ±‚ï¼Œæ‰€ä»¥$|A| = \frac{720}{6} = 120$ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤ï¼Œé—®é¢˜æ±‚è§£å®Œæ¯•ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å…ˆæ‰‹ä¼˜åŠ¿</title>
      <link>https://keris.github.io/zh/post/xianshou-throwing/</link>
      <pubDate>Tue, 24 Mar 2020 14:00:50 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/xianshou-throwing/</guid>
      <description>&lt;p&gt;æ£‹ç»æœ‰äº‘ï¼Œâ€œå®å¤±ä¸€å­ï¼Œå‹¿å¤±ä¸€å…ˆâ€ï¼Œå¯è§å…ˆæ‰‹çš„å¥½å¤„æ‰€åœ¨ã€‚ä¸ºäº†å»ºç«‹å¯¹å…ˆæ‰‹ç›´è§‚çš„ç†è§£ï¼Œæˆ‘ä»¬æ¥ç©ä¸€ä¸ªæ¸¸æˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;ä¸¤ä¸ªäººç©æŠ•æ·ç¡¬å¸çš„æ¸¸æˆï¼Œå…ˆæ·å‡ºæ­£é¢çš„äººè·èƒœï¼Œé‚£ä¹ˆä½ æ˜¯é€‰æ‹©å…ˆæ·è¿˜æ˜¯åæ·ï¼Ÿ&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ•°å­¦è§£æ³•&#34;&gt;æ•°å­¦è§£æ³•&lt;/h2&gt;
&lt;p&gt;å‡è®¾ç¡¬å¸æ˜¯å…¬å¹³çš„ï¼Œå³å‡ºç°æ­£é¢å’Œåé¢çš„æ¦‚ç‡ä¸€æ ·ï¼Œå‡ä¸º&lt;code&gt;1/2&lt;/code&gt;ã€‚é‚£ä¹ˆï¼Œåœ¨å…ˆæ‰‹ä¸‹è·èƒœçš„æƒ…å†µæ˜¯ç¬¬&lt;code&gt;n&lt;/code&gt;æ¬¡æ·å¾—æ­£é¢ï¼Œå‰&lt;code&gt;n-1&lt;/code&gt;æ¬¡éƒ½ä¸ºåé¢ï¼Œå…¶ä¸­&lt;code&gt;n&lt;/code&gt;ä¸ºå¥‡æ•°ã€‚æ‰€ä»¥å…ˆæ‰‹è·èƒœçš„æ¦‚ç‡ä¸º&lt;/p&gt;
&lt;p&gt;$$p(\text{win}|\text{first}) = \sum_{k=0}^{\infty}(\frac{1}{2})^{2k + 1} = \frac{2}{3}$$&lt;/p&gt;
&lt;p&gt;ç›¸åï¼Œåœ¨åæ‰‹ä¸‹è·èƒœçš„æƒ…å†µæ˜¯ç¬¬&lt;code&gt;n&lt;/code&gt;æ¬¡æ·å¾—æ­£é¢ï¼Œå‰&lt;code&gt;n-1&lt;/code&gt;æ¬¡å‡ä¸ºåé¢ï¼Œå…¶ä¸­&lt;code&gt;n&lt;/code&gt;ä¸ºå¶æ•°ã€‚æ‰€ä»¥ï¼Œåæ‰‹è·èƒœçš„æ¦‚ç‡ä¸º&lt;/p&gt;
&lt;p&gt;$$p(\text{win}|\text{second}) = \sum_{k=1}^{\infty}(\frac{1}{2})^{2k} = \frac{1}{3}$$&lt;/p&gt;
&lt;p&gt;å¯ä»¥å‘ç°ï¼Œå…ˆæ‰‹è·èƒœçš„æ¦‚ç‡ä¸º2/3ï¼Œè€Œåæ‰‹è·èƒœçš„æ¦‚ç‡ä¸º1/3ï¼Œè¿™å‘Šè¯‰æˆ‘ä»¬åœ¨ç”Ÿæ´»ä¸­æŠ“ä½å…ˆæœºï¼Œä¸»åŠ¨å‡ºå‡»å¾€å¾€æ›´èƒ½å–å¾—èƒœåˆ©ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¨¡æ‹Ÿæ³•&#34;&gt;æ¨¡æ‹Ÿæ³•&lt;/h2&gt;
&lt;p&gt;å‰é¢æˆ‘ä»¬ç”¨æ•°å­¦çš„æ–¹æ³•è¿›è¡Œäº†æ±‚è§£ï¼Œä¸‹é¢æ¥çœ‹çœ‹å¦‚ä½•ç”¨ç¨‹åºæ¥æ¨¡æ‹Ÿï¼Œä¸ºæ­¤æˆ‘å†™äº†ä¸€ä¸ªPythonç¨‹åºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# coding: utf-8
# filename: code.py
# Author: Liqiang Du &amp;lt;keris.du@gmail.com&amp;gt;
import random
import numpy as np


def simulate(n_games):
    &amp;quot;&amp;quot;&amp;quot;
    Simulate coin throwing game, the game is over when head appears.

    Args:
        n_games (int): the number of games.

    Returns:
        tuple: the first is the probability of win when first play,
        and the second the probability of win when second play.
    &amp;quot;&amp;quot;&amp;quot;
    win_count = np.array([0, 0])
    for i in range(n_games):
        game_over = False
        n_tails = 0
        while not game_over:
            x = random.randint(0, 1)  # 1 indicates head and 0 tail
            if x == 1:
                game_over = True
            else:
                n_tails += 1
        win_count[n_tails % 2] += 1
    return win_count.astype(float) / n_games


if __name__ == &amp;quot;__main__&amp;quot;:
    n_games = 100000
    probs = simulate(n_games)
    print(probs)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¨‹åºçš„æ ¸å¿ƒéƒ¨åˆ†åœ¨äº&lt;code&gt;simulate&lt;/code&gt;ï¼Œæ¯æ¬¡æ¸¸æˆï¼Œå‡ºç°æ­£é¢æ¸¸æˆå°±ç»“æŸï¼ŒåŒæ—¶è®°å½•åé¢å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœè¯¥æ¬¡æ•°ä¸ºå¶æ•°ï¼Œåˆ™å…ˆæ‰‹ä¸ºèµ¢ï¼Œå¦åˆ™åæ‰‹ä¸ºèµ¢ã€‚æœ€åç¨‹åºè¿”å›ä¸€ä¸ªå…ƒç¥–ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºå…ˆæ‰‹è·èƒœçš„æ¦‚ç‡ï¼Œç¬¬äºŒä¸ªä¸ºåæ‰‹è·èƒœçš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿è¡Œä¸€ä¸‹ç¨‹åºçœ‹çœ‹ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ python code.py
[0.66436 0.33564]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬æ¨¡æ‹Ÿäº†10ä¸‡æ¬¡æ¸¸æˆï¼Œç¨‹åºè¿”å›çš„ç»“æœè·Ÿæ•°å­¦æ±‚è§£ç»“æœååˆ†æ¥è¿‘ã€‚&lt;/p&gt;
&lt;p&gt;è‡³æ­¤æ–‡ç« å°±å®Œäº†ã€‚åœ¨è¿™é‡Œæˆ‘é€šè¿‡ä¸€ä¸ªç®€å•çš„æ¸¸æˆè¯´æ˜äº†å…ˆæ‰‹çš„å¥½å¤„ï¼Œè¿™å‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªé“ç†ï¼Œä¸»åŠ¨å‡ºå‡»è·å¾—å…ˆæ‰‹ä¼˜åŠ¿å¾€å¾€æ›´èƒ½å¤ŸæˆåŠŸã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>éšæœºæ•°ç”Ÿæˆ</title>
      <link>https://keris.github.io/zh/post/random-number-generator/</link>
      <pubDate>Wed, 18 Mar 2020 11:45:54 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/random-number-generator/</guid>
      <description>&lt;p&gt;æœ€è¿‘å‚åŠ äº†ä¸€å®¶å…¬å¸çš„é¢è¯•ï¼Œå…¶ä¸­ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šâ€œå¦‚ä½•åœ¨Cè¯­è¨€ä¸­ç”Ÿæˆä¸€ä¸ªçœŸéšæœºæ•°ï¼Ÿâ€ æˆ‘å½“æ—¶æƒ³åˆ°çš„ç­”æ¡ˆæ˜¯ä½¿ç”¨&lt;code&gt;rand()&lt;/code&gt;ï¼Œä½†&lt;code&gt;rand()&lt;/code&gt;è¿”å›çš„å…¶å®æ˜¯ä¸€ä¸ªä¼ªéšæœºæ•°ï¼Œå€¼çš„èŒƒå›´æ˜¯&lt;code&gt;[0, RAND_MAX]&lt;/code&gt;ã€‚å…¶ä¸­ï¼Œ&lt;code&gt;RAND_MAX&lt;/code&gt;è·Ÿå…·ä½“çš„å®ç°æœ‰å…³ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸åŒçš„å®ç°ä¸­å¯èƒ½æœ‰ä¸åŒçš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šä¾¿æ˜¯è¿™ç¯‡åšå®¢çš„èƒŒæ™¯ï¼Œä¹Ÿå¯ä»¥çœ‹å‡ºè‡ªå·±å¯¹éšæœºæ•°ç”Ÿæˆï¼ˆRNGï¼‰æŒæ¡çš„ä¹Ÿä¸å…¨é¢ï¼Œæ‰€ä»¥è¯•å›¾é€šè¿‡æ­¤æ–‡å¼¥è¡¥ä¸€ä¸‹çŸ­æ¿ã€‚&lt;/p&gt;
&lt;h2 id=&#34;éšæœºæ•°çš„åº”ç”¨&#34;&gt;éšæœºæ•°çš„åº”ç”¨&lt;/h2&gt;
&lt;p&gt;éšæœºæ•°çš„åº”ç”¨æœ‰å¾ˆå¤šæ–¹é¢ï¼ŒåŒ…æ‹¬èµŒåšï¼Œç»Ÿè®¡é‡‡æ ·ï¼Œè®¡ç®—æœºä»¿çœŸï¼ŒåŠ å¯†ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;çœŸéšæœºæ•°ä¸ä¼ªéšæœºæ•°&#34;&gt;çœŸéšæœºæ•°ä¸ä¼ªéšæœºæ•°&lt;/h2&gt;
&lt;p&gt;ç®€å•æ¥è®²ï¼ŒçœŸéšæœºæ•°æ— æ³•é¢„æµ‹ï¼Œè€Œä¼ªéšæœºæ•°åœ¨çŸ¥é“ç§å­å€¼åä¾¿èƒ½å¤ç°ã€‚æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ç”Ÿæˆéšæœºæ•°çš„ä¸¤ç§æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¬¬ä¸€ç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬æµ‹é‡æŸä¸ªè¢«è®¤ä¸ºæ˜¯éšæœºçš„ç‰©ç†ç°è±¡ï¼Œç„¶åè¡¥å¿æµ‹é‡è¿‡ç¨‹ä¸­å¯èƒ½çš„åå·®ã€‚è¿™ç§éšæœºæºåŒ…æ‹¬ç©ºæ°”å™ªå£°ï¼Œçƒ­å™ªå£°ä»¥åŠå…¶ä»–å¤–éƒ¨çš„ç”µç£å’Œé‡å­ç°è±¡ã€‚è¦äº§ç”Ÿä¸€ä¸ªéšæœºæ•°ï¼Œæˆ‘ä»¬éœ€è¦è·å–è¶³å¤Ÿçš„å¢’ï¼ˆentropyï¼‰ï¼Œä½†è·å–é€Ÿç‡å–å†³äºè¢«æµ‹é‡çš„ç‰©ç†ç°è±¡ã€‚å› æ­¤ï¼Œè¿™ç§äº§ç”Ÿéšæœºæ•°çš„æ–¹æ³•æ˜¯é˜»å¡çš„ï¼ˆblockingï¼‰çš„ï¼Œé€Ÿç‡å—é™çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨å¤§éƒ¨åˆ†Linuxå‘è¡Œç‰ˆä¸­ï¼Œä¼ªéšæœºè®¾å¤‡æ–‡ä»¶&lt;code&gt;/dev/random&lt;/code&gt;å°±ä¼šé˜»å¡ç›´åˆ°ä»ç¯å¢ƒè·å–åˆ°è¶³å¤Ÿçš„å¢’ã€‚ç”±äºè¿™ç§é˜»å¡è¡Œä¸ºï¼Œä»&lt;code&gt;/dev/random&lt;/code&gt;å¤§æ‰¹é‡è¯»ä»¥ä¾¿ç”¨éšæœºä½å¡«å……ç£ç›˜ç»å¸¸ä¼šå¾ˆæ…¢ï¼Œå°±æ˜¯å› ä¸ºå¢’æºæ˜¯é˜»å¡å‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¬¬äºŒç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨è®¡ç®—çš„æ–¹æ³•æ¥ç”Ÿæˆæ˜æ˜¾éšæœºå€¼ç»„æˆçš„é•¿åºåˆ—ï¼Œä½†å®é™…ä¸Šç»“æœå®Œå…¨ç”±ä¸€ä¸ªè¾ƒçŸ­çš„åˆå§‹å€¼ç¡®å®šï¼Œè¿™ä¸ªåˆå§‹å€¼ä¹Ÿå«ç§å­å€¼ã€‚å› æ­¤ï¼Œæ•´ä¸ªçœ‹ä¼¼éšæœºçš„åºåˆ—åœ¨çŸ¥é“ç§å­å€¼çš„æƒ…å†µä¸‹èƒ½å¤Ÿè¢«å¤ç°ã€‚ç›¸æ¯”ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç¬¬äºŒç§æ–¹æ³•æ˜¯éé˜»å¡ï¼ˆnon-blockingï¼‰çš„ï¼Œæ‰€ä»¥å…¶ç”Ÿæˆé€Ÿç‡ä¸å—å¤–éƒ¨äº‹ä»¶çš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸€äº›ç³»ç»Ÿé‡‡å–æ··åˆçš„åŠæ³•ï¼Œå³åœ¨å¯ç”¨çš„æ—¶å€™é‡‡ç”¨è‡ªç„¶æºæä¾›çš„éšæœºæ€§ï¼Œå¦åˆ™ä½¿ç”¨å‘¨æœŸæ€§é‡æ–°è®¾ç½®ç§å­ã€è½¯ä»¶åŸºäºçš„å¯†ç å®‰å…¨çš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼ˆCSPRNGsï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œå°ç»“ä¸€ä¸‹ï¼šçœŸéšæœºæ•°ä¾èµ–äºæ”¶é›†è‡ªç„¶å‘ç”Ÿçš„å¢’ï¼Œæœ‰äº†è¶³å¤Ÿçš„å¢’æ–¹å¯ç”Ÿæˆéšæœºæ•°ï¼Œå› æ­¤æ˜¯é˜»å¡çš„ï¼Œé€Ÿç‡æœ‰é™çš„ï¼›ä¼ªéšæœºæ•°ä½¿ç”¨è®¡ç®—æ–¹æ³•äº§ç”Ÿï¼Œåœ¨çŸ¥é“ç§å­å€¼åèƒ½å¤Ÿå¤ç°ï¼Œéé˜»å¡ï¼Œé€Ÿç‡ä¸å—é™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;cè¯­è¨€ä¸­çš„éšæœºæ•°ç”Ÿæˆ&#34;&gt;Cè¯­è¨€ä¸­çš„éšæœºæ•°ç”Ÿæˆ&lt;/h2&gt;
&lt;p&gt;åœ¨Cè¯­è¨€ä¸­ï¼Œæ ‡å‡†åº“&lt;code&gt;stdlib.h&lt;/code&gt;æä¾›äº†ä¸¤ä¸ªå‡½æ•°&lt;code&gt;int rand(void)&lt;/code&gt;å’Œ&lt;code&gt;void srand(unsigned)&lt;/code&gt;æ¥å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¼ªéšæœºæ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rand()&lt;/code&gt;è¿”å›ä¸€ä¸ªä½äºåŒºé—´&lt;code&gt;[0, RAND_MAX]&lt;/code&gt;çš„æ•´æ•°ï¼Œ&lt;code&gt;RAND_MAX&lt;/code&gt;åœ¨ä¸åŒçš„å®ç°ä¸­å¯èƒ½ä¸åŒï¼Œä½†è¢«ä¿è¯è‡³å°‘æ˜¯&lt;code&gt;32767&lt;/code&gt;ã€‚åœ¨è°ƒç”¨&lt;code&gt;rand()&lt;/code&gt;å‰ï¼Œå¦‚æœæˆ‘ä»¬ä¸è®¾ç½®ç§å­ï¼Œç³»ç»Ÿé»˜è®¤æˆ‘ä»¬è®¾ç½®ç§å­ä¸º1ï¼Œå³è°ƒç”¨äº†&lt;code&gt;srand(1)&lt;/code&gt;ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ¯æ¬¡è¿è¡Œå°†ä¼šäº§ç”ŸåŒæ ·çš„å€¼ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;

int main() {
    int num = rand();
    printf(&amp;quot;Random number: %d\n&amp;quot;, num);
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬ç¼–è¯‘ä»¥ä¸Šä»£ç å¹¶è¿è¡Œ5æ¬¡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ gcc gen_rand.c &amp;amp;&amp;amp; for i in `seq 1 5`;do ./a.out;done
Random number: 16807
Random number: 16807
Random number: 16807
Random number: 16807
Random number: 16807
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œç¨‹åºåœ¨æ¯æ¬¡è¿è¡Œæ—¶å‡ç”Ÿæˆäº†åŒæ ·çš„å€¼ï¼Œè¿™æ˜¯å› ä¸ºç§å­å€¼å‡ä¸º1ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†çœ‹çœ‹æ‰‹åŠ¨è®¾ç½®ç§å­çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;time.h&amp;gt;

int main() {
    srand((unsigned)time(0)); // use current time as seed
    int num = rand();
    printf(&amp;quot;Random number: %d\n&amp;quot;, num);
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬å°†ç§å­è®¾ä¸ºå½“å‰æ—¶é—´ã€‚åŒæ ·åœ°ï¼Œæˆ‘ä»¬ç¼–è¯‘å¹¶è¿è¡Œ5æ¬¡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ gcc gen_rand1.c &amp;amp;&amp;amp; for i in `seq 1 5`;do ./a.out;done
Random number: 7890298
Random number: 7890298
Random number: 7890298
Random number: 7890298
Random number: 7890298
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœçœ‹ä¼¼è·Ÿå‰é¢æ²¡æœ‰ä¸åŒï¼Œå› ä¸º5æ¬¡è°ƒç”¨ä¾ç„¶ç”Ÿæˆäº†åŒæ ·çš„å€¼ã€‚å…¶å®ï¼Œè¿™ä¸ªå·®åˆ«å¾ˆç»†å¾®ï¼Œæˆ‘ä»¬å°†ç§å­è®¾ä¸ºå½“å‰æ—¶é—´ï¼Œä½†åªæœ‰åœ¨é‡æ–°ç¼–è¯‘æ—¶æ‰èƒ½æœ‰ä¸åŒçš„ç§å­å€¼ã€‚å› æ­¤ï¼Œä¸¤æ¬¡ç¼–è¯‘ä¹‹é—´ç”Ÿæˆçš„å€¼åº”è¯¥ä¸åŒï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ gcc gen_rand1.c &amp;amp;&amp;amp; ./a.out
Random number: 12713907
$ gcc gen_rand1.c &amp;amp;&amp;amp; ./a.out
Random number: 12747521
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;cä¸­çš„éšæœºæ•°ç”Ÿæˆ&#34;&gt;C++ä¸­çš„éšæœºæ•°ç”Ÿæˆ&lt;/h2&gt;
&lt;p&gt;åœ¨C++ä¸­ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨&lt;code&gt;rand()&lt;/code&gt;å’Œ&lt;code&gt;srand()&lt;/code&gt;æ¥ç”Ÿæˆéšæœºæ•°ï¼Œä½†è¿™å·²ç»ä¸æ˜¯æ ‡å‡†æ¨èçš„åšæ³•ï¼Œç›¸åæˆ‘ä»¬åº”è¯¥ä½¿ç”¨&lt;code&gt;random&lt;/code&gt;åº“æä¾›çš„å·¥å…·ç±»æ¥ç”Ÿæˆéšæœºæ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ç»™å‡ºC++ç‰ˆæœ¬çš„ä»£ç ï¼Œè¿è¡Œç»“æœè·ŸCè¯­è¨€åˆ«æ— äºŒè‡´ï¼Œä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;cstdlib&amp;gt;
#include &amp;lt;ctime&amp;gt;

using namespace std;

int main() {
    // srand((unsigned)time(nullptr)); // use current time as seed
    int r = rand();
    cout &amp;lt;&amp;lt; &amp;quot;Random number between 0 and &amp;quot; &amp;lt;&amp;lt; RAND_MAX &amp;lt;&amp;lt; &amp;quot; :&amp;quot;;
    cout &amp;lt;&amp;lt; r &amp;lt;&amp;lt; &#39;\n&#39;;
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨&lt;code&gt;random&lt;/code&gt;åº“æä¾›çš„å·¥å…·æ¥ç”Ÿæˆéšæœºæ•°ã€‚&lt;code&gt;random&lt;/code&gt;åº“æä¾›äº†ä¸¤ç§ç±»å‹çš„ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡åŒ€åˆ†å¸ƒéšæœºä½ç”Ÿæˆå™¨ï¼ˆURBGsï¼‰ï¼Œæ—¢åŒ…æ‹¬ä¼ªéšæœºæ•°ç”Ÿæˆå’ŒçœŸéšæœºæ•°ç”Ÿæˆï¼ˆå¦‚æœå¯ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;éšæœºæ•°åˆ†å¸ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯¦ç»†çš„ä¿¡æ¯è¯·å‚è§ &lt;a href=&#34;https://en.cppreference.com/w/cpp/numeric/random&#34;&gt;https://en.cppreference.com/w/cpp/numeric/random&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ç»™å‡ºä¸€ä¸ªä½¿ç”¨éšæœºæ•°å¼•æ“ç”Ÿæˆéšæœºæ•°çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;random&amp;gt;

using namespace std;

int main() {
    random_device rd;
    default_random_engine e1(rd());
    cout &amp;lt;&amp;lt; e1() &amp;lt;&amp;lt; endl;
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬ç¼–è¯‘ä»¥ä¸Šä»£ç ï¼Œå¹¶è¿è¡Œ5æ¬¡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ g++ main.cc -std=c++17 &amp;amp;&amp;amp; for i in `seq 1 5`;do ./a.out;done
17429349
872858569
1540494345
40333012
95212997
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç¼–è¯‘ä»£ç ä¸€æ¬¡ï¼Œå¤šæ¬¡è¿è¡Œï¼Œæ¯æ¬¡ä¼šäº§ç”Ÿä¸åŒçš„å€¼ï¼Œåºåˆ—å˜å¾—ä¸å¯é¢„æµ‹ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç”Ÿæˆçš„éšæœºæ•°è½¬æ¢åˆ°æŸä¸ªé—­åŒºé—´çš„å‡åŒ€åˆ†å¸ƒæˆ–è€…æ­£æ€åˆ†å¸ƒï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªå‡åŒ€åˆ†å¸ƒçš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;iomanip&amp;gt;
#include &amp;lt;string&amp;gt;
#include &amp;lt;random&amp;gt;
#include &amp;lt;map&amp;gt;

using namespace std;

int main() {
    random_device rd;
    default_random_engine e1(rd());
    uniform_int_distribution&amp;lt;int&amp;gt; dis(1, 6);
    cout &amp;lt;&amp;lt; dis.min() &amp;lt;&amp;lt; endl;
    cout &amp;lt;&amp;lt; dis.max() &amp;lt;&amp;lt; endl;
    map&amp;lt;int, int&amp;gt; hist;
    for (int i = 0; i != 10000; i++) {
        hist[dis(e1)]++;
    }
    for (auto[num, count] : hist) {
        cout &amp;lt;&amp;lt; num &amp;lt;&amp;lt; &#39; &#39; &amp;lt;&amp;lt; string(count / 200, &#39;*&#39;) &amp;lt;&amp;lt; &#39;\n&#39;;
    }
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¼–è¯‘ä»¥ä¸Šä»£ç å¹¶è¿è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ g++ -std=c++17 main.cc &amp;amp;&amp;amp; ./a.out
1
6
1 ********
2 ********
3 *******
4 ********
5 ********
6 ********
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¾“å‡ºå‡åŒ€åˆ†å¸ƒå¯èƒ½ç”Ÿæˆçš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œç”±äºæˆ‘ä»¬è€ƒè™‘çš„æ˜¯é—­åŒºé—´&lt;code&gt;[1, 6]&lt;/code&gt;ä¸Šçš„å‡åŒ€åˆ†å¸ƒï¼Œæ˜¾ç„¶æœ€å°å€¼å’Œæœ€å¤§å€¼åˆ†åˆ«ä¸º1å’Œ6ã€‚ç„¶åæˆ‘ä»¬å°†äº§ç”Ÿçš„éšæœºæ•°è½¬æ¢åˆ°åŒºé—´ä¸Šçš„æŸä¸ªå€¼ï¼Œå¹¶ç»Ÿè®¡å‡ºç°æ¬¡æ•°ã€‚æœ€åï¼Œæˆ‘ä»¬ç»˜åˆ¶ç›´æ–¹å›¾ï¼Œä»ç»“æœæ¥çœ‹ï¼Œæ¯ä¸ªå€¼å‡ºç°çš„æ¬¡æ•°åŸºæœ¬ä¸€æ ·å¤šï¼ˆæˆ‘ä»¬è¿›è¡Œäº†10000æ¬¡å®éªŒï¼ï¼‰ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ä¸€ä¸ªä¾‹å­å¯¼å‘çš„å¯¹å˜å‚æ¨¡ç‰ˆçš„ç†è§£</title>
      <link>https://keris.github.io/zh/post/variadic-template/</link>
      <pubDate>Tue, 17 Mar 2020 10:13:02 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/variadic-template/</guid>
      <description>&lt;p&gt;æœ€è¿‘çœ‹C++ç¼–ç¨‹è¯­è¨€ç¬¬å››ç‰ˆ&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ï¼Œé˜…è¯»åˆ°çº¿ç¨‹è¿™ä¸€ç« ï¼Œä½œè€…åœ¨è®²è§£mutexæ—¶ç»™å‡ºäº†ä¸€ä¸ªä¾‹å­ï¼Œè‡ªå·±ç…§ç€å†™äº†ä¸€ä¸ªå‘ç°è·‘ä¸é€šï¼Œç ”ç©¶åå‘ç°å¯¹å˜å‚æ¨¡ç‰ˆç†è§£ä¸å¤Ÿï¼Œä¾¿å†™äº†è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹çœ‹ä¹¦æœ¬ä¸Šçš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;mutex cout_mutex;

template&amp;lt;typename Arg, typename... Args&amp;gt;
void write(Arg a, Args... tail) {
    cout_mutex.lock();
    cout &amp;lt;&amp;lt; a;
    write(tail...);
    cout_mutex.unlock();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªä¾‹å­æ—¨åœ¨è¯´æ˜deadlockï¼Œå› ä¸ºæˆ‘ä»¬åœ¨&lt;code&gt;write&lt;/code&gt;å‡½æ•°ä¸­é€’å½’è°ƒç”¨å®ƒï¼Œè€Œè¯¥å‡½æ•°åœ¨è¿›è¡Œè¾“å‡ºå‰éœ€è¦è·å–äº’æ–¥å˜é‡ã€‚ä¸ºäº†è§£é™¤æ­»é”ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code&gt;recursive_mutex&lt;/code&gt;ï¼Œè¿™ç§ç±»å‹çš„mutexå…è®¸é€’å½’åœ°è·å–ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºä»¥ä¸Šæƒ³æ³•ï¼Œæˆ‘å†™äº†ä¸€ä¸ªä¾‹å­æ¥è¿›è¡Œæµ‹è¯•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;mutex&amp;gt;

using namespace std;

recursive_mutex cout_mutex;

template&amp;lt;typename Arg, typename... Args&amp;gt;
void write(Arg a, Args... tail) {
    cout_mutex.lock();
    cout &amp;lt;&amp;lt; a;
    write(tail...);
    cout_mutex.unlock();
}

int main(int argc, char* argv[]) {
    write(&amp;quot;hello,&amp;quot;, &amp;quot;world&amp;quot;);
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“æˆ‘å°è¯•ç¼–è¯‘ä»¥ä¸Šä»£ç å´å‘ç°æŠ¥å‡ºé”™è¯¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ g++ test.cc -std=c++17
test.cpp:12:6: error: no matching function for call to &#39;write&#39;
     write(tail...);
     ^~~~~
test.cpp:12:6: note: in instantiation of function template
      specialization &#39;write&amp;lt;const char *&amp;gt;&#39; requested here
test.cpp:17:6: note: in instantiation of function template
      specialization &#39;write&amp;lt;const char *, const char *&amp;gt;&#39; requested here
     write(&amp;quot;hello,&amp;quot;, &amp;quot;world&amp;quot;);
     ^
test.cpp:9:7: note: candidate function template not viable: requires at
      least argument &#39;a&#39;, but no arguments were provided
 void write(Arg a, Args... tail) {
      ^
1 error generated.
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ç¼–è¯‘æ—¶æˆ‘ä½¿ç”¨äº†c++17æ ‡å‡†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œç¼–è¯‘å™¨æŠ¥å‘Šäº†ä¸€ä¸ªé”™è¯¯ï¼Œ&lt;strong&gt;å¯¹&amp;rsquo;write&#39;çš„è°ƒç”¨æ²¡æœ‰åŒ¹é…çš„å‡½æ•°&lt;/strong&gt;ï¼Œè¿™æ˜¯ä¸ºä½•ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯¹äºä»¥ä¸Šçš„å®ç°ï¼Œ&lt;code&gt;write(&amp;quot;hello,&amp;quot;, &amp;quot;world&amp;quot;)&lt;/code&gt;å¯ä»¥æ‹†åˆ†æˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¾“å‡º&lt;code&gt;hello,&lt;/code&gt;ï¼Œæ­¤æ—¶tailåŒ…å«ä¸€ä¸ªå‚æ•°å³&lt;code&gt;world&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¾“å‡º&lt;code&gt;world&lt;/code&gt;ï¼Œæ­¤æ—¶tailä¸ºç©ºï¼Œä½†writeå‡½æ•°è‡³å°‘éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥äº§ç”Ÿä»¥ä¸Šé”™è¯¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å¢åŠ ä¸€ä¸ªæ¥å—ç©ºå‚æ•°çš„writeå‡½æ•°æ¥éªŒè¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;mutex&amp;gt;

using namespace std;

recursive_mutex cout_mutex;

void write() {
    cout &amp;lt;&amp;lt; &amp;quot;&amp;quot;; // output nothing
}

template&amp;lt;typename Arg, typename... Args&amp;gt;
void write(Arg a, Args... tail) {
    cout_mutex.lock();
    cout &amp;lt;&amp;lt; a;
    write(tail...);
    cout_mutex.unlock();
}


int main(int argc, char* argv[]) {
    write(&amp;quot;hello,&amp;quot;, &amp;quot;world&amp;quot;);
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨è¿›è¡Œä¸Šè¿°æ“ä½œåï¼Œä»£ç ç¼–è¯‘é€šè¿‡ï¼Œè¿è¡Œåè¾“å‡ºä»¥ä¸‹ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ ./a.out
$ hello,world
&lt;/code&gt;&lt;/pre&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;è‹±æ–‡åä¸ºï¼š&lt;a href=&#34;https://www.amazon.com/dp/0321958322/ref=cm_sw_em_r_mt_dp_U_xP11DbJ5REYKZ&#34;&gt;The C++ Programming Language, 4th Edition&lt;/a&gt;. ä½œè€…ä¸ºBjarne Stroustrup. &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>æœºå™¨å­¦ä¹ æ¨¡å‹é€‰æ‹©</title>
      <link>https://keris.github.io/zh/post/model-selection/</link>
      <pubDate>Fri, 13 Mar 2020 19:14:06 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/model-selection/</guid>
      <description>&lt;h2&gt;ç›®å½•&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#ä¸¤ç§ç±»å‹çš„é”™è¯¯&#34;&gt;ä¸¤ç§ç±»å‹çš„é”™è¯¯&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#æ¨¡å‹å¤æ‚å›¾&#34;&gt;æ¨¡å‹å¤æ‚å›¾&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#kæŠ˜äº¤å‰éªŒè¯&#34;&gt;KæŠ˜äº¤å‰éªŒè¯&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#å­¦ä¹ æ›²çº¿&#34;&gt;å­¦ä¹ æ›²çº¿&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;h3 id=&#34;ä¸¤ç§ç±»å‹çš„é”™è¯¯&#34;&gt;ä¸¤ç§ç±»å‹çš„é”™è¯¯&lt;/h3&gt;
&lt;p&gt;åœ¨é€‰æ‹©æ¨¡å‹æ—¶æˆ‘ä»¬å¯èƒ½çŠ¯ä¸¤ç§ç±»å‹çš„é”™è¯¯ï¼Œé€‰æ‹©è¿‡äºç®€å•çš„æ¨¡å‹æˆ–è€…è¿‡äºå¤æ‚çš„æ¨¡å‹ï¼Œå‰è€…å¯¹åº”&lt;strong&gt;æ¬ æ‹Ÿåˆ&lt;/strong&gt;ï¼Œåè€…å¯¹åº”&lt;strong&gt;è¿‡æ‹Ÿåˆ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¬ æ‹Ÿåˆå‘ç”Ÿæ—¶ï¼Œæ¨¡å‹å…·æœ‰é«˜åå·®ï¼ˆhigh biasï¼‰ï¼Œæ¨¡å‹ä¸èƒ½å¾ˆå¥½åœ°æ‹Ÿåˆè®­ç»ƒé›†ï¼›è¿‡æ‹Ÿåˆå‘ç”Ÿæ—¶ï¼Œæ¨¡å‹å…·æœ‰é«˜æ–¹å·®ï¼ˆhigh varianceï¼‰ï¼Œæ¨¡å‹è¯•å›¾å¯¹è®­ç»ƒæ•°æ®è¿›è¡Œè®°å¿†è€Œä¸æ˜¯å­¦ä¹ å…¶ç‰¹ç‚¹ï¼Œåœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°å¾ˆå¥½ï¼Œä½†åœ¨æµ‹è¯•é›†ä¸Šè¡¨ç°å¾ˆå·®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªæ¬ æ‹Ÿåˆçš„ä¾‹å­ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;underfitting.png&#34; &gt;
&lt;img data-src=&#34;underfitting.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå·¦è¾¹çš„æ¨¡å‹ä½¿ç”¨ä¸€ä¸ªäºŒæ¬¡æ›²çº¿å»æ‹Ÿåˆæ•°æ®ç‚¹ï¼Œè€Œå³è¾¹åˆ™æ˜¯ä½¿ç”¨ç›´çº¿å»æ‹Ÿåˆï¼Œå¯ä»¥å‘ç°ç›´çº¿å¹¶ä¸èƒ½å¾ˆå¥½åœ°æ‹Ÿåˆæ•°æ®ï¼Œè¿™å°±æ˜¯æ¬ æ‹Ÿåˆçš„æƒ…å½¢ã€‚&lt;/p&gt;
&lt;p&gt;äº†è§£äº†æ¬ æ‹Ÿåˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªè¿‡æ‹Ÿåˆçš„ä¾‹å­ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;overfitting.png&#34; data-caption=&#34;Overfitting&#34;&gt;
&lt;img data-src=&#34;overfitting.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Overfitting
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå·¦è¾¹çš„æ¨¡å‹ä½¿ç”¨ä¸€ä¸ªäºŒæ¬¡æ›²çº¿å»æ‹Ÿåˆæ•°æ®ç‚¹ï¼Œè€Œå³è¾¹çš„æ¨¡å‹è¯•å›¾å¯¹è®­ç»ƒé›†è¿›è¡Œè®°å¿†ï¼Œå› è€Œå®ƒåœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°å¾ˆå¥½ï¼Œä½†å®ƒæ²¡æœ‰å­¦ä¹ åˆ°æ•°æ®çš„è‰¯å¥½å±æ€§ä»¥å¾ˆå¥½åœ°æ³›åŒ–åˆ°æµ‹è¯•é›†ï¼Œè¿™å°±æ˜¯è¿‡æ‹Ÿåˆçš„æƒ…å½¢ã€‚&lt;/p&gt;
&lt;p&gt;å‰é¢ä¸¤ä¸ªä¾‹å­å±äºå›å½’æ¨¡å‹ï¼Œåœ¨åˆ†ç±»æ¨¡å‹ä¸­æˆ‘ä»¬ä¹Ÿä¼šçœ‹åˆ°æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆã€‚&lt;/p&gt;
&lt;p&gt;åˆ†ç±»æ¨¡å‹ä¸­çš„æ¬ æ‹Ÿåˆï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;underfitting-classification.png&#34; data-caption=&#34;Underfitting in a Classification Model&#34;&gt;
&lt;img data-src=&#34;underfitting-classification.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Underfitting in a Classification Model
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;åˆ†ç±»æ¨¡å‹ä¸­çš„è¿‡æ‹Ÿåˆï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;overfitting-classification.png&#34; data-caption=&#34;Overfitting in a Classification Model&#34;&gt;
&lt;img data-src=&#34;overfitting-classification.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Overfitting in a Classification Model
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;tradeoff-high-bias-high-variance.png&#34; data-caption=&#34;Tradeoff between High Bias and High Variance&#34;&gt;
&lt;img data-src=&#34;tradeoff-high-bias-high-variance.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Tradeoff between High Bias and High Variance
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;h3 id=&#34;æ¨¡å‹å¤æ‚å›¾&#34;&gt;æ¨¡å‹å¤æ‚å›¾&lt;/h3&gt;
&lt;p&gt;åœ¨å‰é¢ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å­¦ä¹ äº†æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆï¼Œåœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬äº†è§£ä¸€ä¸‹æ¨¡å‹å¤æ‚å›¾ï¼Œå³è¯„ä¼°æŒ‡æ ‡éšç€æ¨¡å‹å¤æ‚æ€§çš„æå‡å¦‚ä½•å˜åŒ–ã€‚&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;model-complexity-graph.png&#34; data-caption=&#34;Model Complexity Graph&#34;&gt;
&lt;img data-src=&#34;model-complexity-graph.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Model Complexity Graph
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;åœ¨ä¸Šé¢è¿™ä¸ªå›¾ä¸­ï¼Œå·¦ä¾§å¯¹åº”æ¬ æ‹Ÿåˆçš„æƒ…å½¢ï¼Œæ­¤æ—¶æ¨¡å‹åœ¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸Šéƒ½å…·æœ‰è¾ƒå¤§çš„è¯¯å·®ï¼›å³ä¾§å¯¹åº”è¿‡æ‹Ÿåˆçš„æƒ…å½¢ï¼Œæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šå…·æœ‰è¾ƒå°çš„è¯¯å·®ï¼Œè€Œåœ¨éªŒè¯é›†ä¸Šå…·æœ‰è¾ƒå¤§çš„è¯¯å·®ï¼›åœˆèµ·æ¥çš„é‚£ä¸ªåœ°æ–¹å¯¹åº”åˆšåˆšå¥½çš„æƒ…å½¢ï¼Œæ­¤æ—¶æ¨¡å‹åœ¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸Šéƒ½å…·æœ‰è¾ƒå°çš„è¯¯å·®ï¼Œè¿‡äº†è¿™ä¸ªç‚¹ï¼Œåœ¨è®­ç»ƒé›†ä¸Šçš„è¯¯å·®æŒç»­å‡å°ï¼Œä½†åœ¨éªŒè¯é›†ä¸Šçš„è¯¯å·®å¼€å§‹ä¸æ–­å˜å¤§ã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½ä½ æ³¨æ„åˆ°äº†ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œ&lt;strong&gt;éªŒè¯é›†&lt;/strong&gt;ï¼Œä¸ºä»€ä¹ˆä¸ç”¨æµ‹è¯•é›†ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨æ„å»ºæœºå™¨å­¦ä¹ æ¨¡å‹æ—¶ï¼Œä¸€ä¸ªåŠ¡å¿…è¦åšæŒçš„åŸåˆ™æ˜¯&lt;strong&gt;æµ‹è¯•é›†åªèƒ½ç”¨äºæœ€åçš„æ¨¡å‹è¯„ä¼°ï¼Œè€Œä¸èƒ½å‚ä¸æ¨¡å‹è®­ç»ƒ&lt;/strong&gt;ã€‚é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆé€‰æ‹©ä¸€ä¸ªå¥½çš„æ¨¡å‹ï¼ŒéªŒè¯é›†å³ç”¨äºæ­¤ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ€ä¹ˆå¾—åˆ°éªŒè¯é›†ï¼Ÿä¸‹å›¾å¯ä»¥ç»™ä½ ä¸€ä¸ªç›´è§‚çš„ç†è§£ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;cross-validation.png&#34; data-caption=&#34;Cross Validation&#34;&gt;
&lt;img data-src=&#34;cross-validation.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Cross Validation
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè®­ç»ƒé›†ä¸­çš„ä¸€å°éƒ¨åˆ†è¢«ç”¨æ¥ä½œä¸ºéªŒè¯é›†ï¼Œå€ŸåŠ©éªŒè¯é›†æˆ‘ä»¬è¯„ä¼°æ¨¡å‹æ˜¯å¦æ¬ æ‹Ÿåˆï¼Œè¿‡æ‹Ÿåˆæˆ–è€…åˆšåˆšå¥½ï¼Œå³éªŒè¯é›†ç”¨æ¥è¿›è¡Œå†³ç­–ï¼Œå¸®åŠ©æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªå¥½çš„æ¨¡å‹ã€‚æœ€åï¼Œæµ‹è¯•é›†ç”¨äºæœ€ç»ˆçš„æ¨¡å‹è¯„ä¼°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;kæŠ˜äº¤å‰éªŒè¯&#34;&gt;KæŠ˜äº¤å‰éªŒè¯&lt;/h3&gt;
&lt;p&gt;å¯èƒ½ä½ æ³¨æ„åˆ°äº†ï¼Œç”±äºä»è®­ç»ƒé›†ä¸­åˆ’å‡ºäº†ä¸€å°éƒ¨åˆ†ä½œä¸ºéªŒè¯é›†ï¼Œè¿™ä½¿å¾—è®­ç»ƒæ•°æ®å˜å°‘äº†ï¼Œè¿™ä¼šå¯¹æ¨¡å‹äº§ç”Ÿä¸åˆ©å› ç´ ï¼Œä¸ºæ­¤ä½ éœ€è¦ä½¿ç”¨KæŠ˜äº¤å‰éªŒè¯ã€‚&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;k-fold-1.png&#34; &gt;
&lt;img data-src=&#34;k-fold-1.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;åœ¨ä¸Šé¢è¿™ä¸ªå›¾ä¸­ï¼Œæˆ‘ä»¬æœ‰12ä¸ªæ ·æœ¬ï¼Œå…¶ä¸­å®å¿ƒçš„ç”¨äºè®­ç»ƒï¼Œç©ºå¿ƒçš„ç”¨äºæµ‹è¯•&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚è¿™æ˜¯ä¸€ä¸ª4æŠ˜äº¤å‰éªŒè¯ï¼Œæ¯æ¬¡å…¶ä¸­ä¸€æŠ˜ç”¨äºæµ‹è¯•ï¼Œå‰©ä½™ä¸‰æŠ˜ç”¨äºè®­ç»ƒã€‚ç¬¬ä¸€æ¬¡ï¼Œç¬¬ä¸€æŠ˜æ ·æœ¬&lt;code&gt;[0,1,2]&lt;/code&gt;ç”¨äºæµ‹è¯•ï¼›ç¬¬äºŒæ¬¡ï¼Œç¬¬äºŒæŠ˜æ ·æœ¬&lt;code&gt;[3,4,5]&lt;/code&gt;ç”¨äºæµ‹è¯•ï¼›ç¬¬ä¸‰æ¬¡ï¼Œç¬¬ä¸‰æŠ˜æ ·æœ¬&lt;code&gt;[6,7,8]&lt;/code&gt;ç”¨äºæµ‹è¯•ï¼›æœ€åä¸€æ¬¡ï¼Œæœ€åä¸€æŠ˜æ ·æœ¬&lt;code&gt;[9,10,11]&lt;/code&gt;ç”¨äºæµ‹è¯•ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œç»è¿‡4æŠ˜äº¤å‰éªŒè¯ï¼Œ&lt;strong&gt;è®­ç»ƒé›†ä¸­çš„æ‰€æœ‰æ ·æœ¬éƒ½å‚ä¸äº†æ¨¡å‹è®­ç»ƒ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨&lt;code&gt;sklearn&lt;/code&gt;ä¸­è¿›è¡ŒKæŠ˜äº¤å‰éªŒè¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import numpy as np
from sklearn.model_selection import KFold
kf = KFold(4)
X = np.arange(12)
for train_indices, test_indices in kf.split(X):
    print(train_indices, test_indices)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šä»£ç äº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[ 3  4  5  6  7  8  9 10 11] [0 1 2]
[ 0  1  2  6  7  8  9 10 11] [3 4 5]
[ 0  1  2  3  4  5  9 10 11] [6 7 8]
[0 1 2 3 4 5 6 7 8] [ 9 10 11]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè¾“å‡ºç»“æœè·Ÿå›¾ä¸­çš„ä¾‹å­å®Œå…¨ä¸€è‡´ã€‚å¯èƒ½ä½ ä¹Ÿæ³¨æ„åˆ°äº†ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯ä¸€æŠ˜éƒ½æ˜¯é¡ºåºäº§ç”Ÿï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥è¿›è¡Œéšæœºé€‰å–ã€‚&lt;/p&gt;
&lt;p&gt;












&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;k-fold-2.png&#34; &gt;
&lt;img data-src=&#34;k-fold-2.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

åŒæ ·åœ°ï¼Œæˆ‘ä»¬çœ‹çœ‹åœ¨&lt;code&gt;sklearn&lt;/code&gt;ä¸­å¦‚ä½•åšï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import numpy as np
from sklearn.model_selection import KFold
kf = KFold(4, shuffle=True)
X = np.arange(12)
for train_indices, test_indices in kf.split(X):
    print(train_indices, test_indices)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šä»£ç çš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[0 1 2 3 4 6 7 8 9] [ 5 10 11]
[ 0  1  2  4  5  6  7 10 11] [3 8 9]
[ 0  1  3  4  5  8  9 10 11] [2 6 7]
[ 2  3  5  6  7  8  9 10 11] [0 1 4]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€æŠ˜ä¸­çš„æ ·æœ¬ä¸å†è¿ç»­ï¼Œè€Œæ˜¯éšæœºæŠ½å–çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å­¦ä¹ æ›²çº¿&#34;&gt;å­¦ä¹ æ›²çº¿&lt;/h3&gt;
&lt;p&gt;åœ¨æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ç»˜åˆ¶è®­ç»ƒè¯¯å·®å’ŒéªŒè¯è¯¯å·® vs. å‚ä¸è®­ç»ƒçš„æ ·æœ¬æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸¤æ¡æ›²çº¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå›¾ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;learning-curves-1.png&#34; data-caption=&#34;Learning Curves&#34;&gt;
&lt;img data-src=&#34;learning-curves-1.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Learning Curves
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;å›¾çš„å·¦ä¾§æ˜¯ä¸€ä¸ªé«˜åå·®çš„æ¨¡å‹ï¼ˆ&lt;em&gt;å¯¹åº”å‰è¿°çš„çº¿æ€§æ¨¡å‹&lt;/em&gt;ï¼‰ï¼Œå³æ¨¡å‹æ¬ æ‹Ÿåˆã€‚åœ¨è®­ç»ƒæ ·æœ¬æ¯”è¾ƒå°‘æ—¶ï¼Œæ¨¡å‹èƒ½å¾ˆå¥½åœ°æ‹Ÿåˆæ•°æ®ï¼Œå› æ­¤è®­ç»ƒè¯¯å·®å¾ˆå°ï¼Œä½†å½“è¯„ä¼°æ¨¡å‹æ—¶ï¼Œç”±äºè®­ç»ƒæ ·æœ¬è¾ƒå°‘ï¼Œæ¨¡å‹çš„è¡¨ç°ä¸ä¼šå¤ªå¥½ï¼Œå› æ­¤éªŒè¯è¯¯å·®ä¼šå¾ˆå¤§ã€‚éšç€å‚ä¸è®­ç»ƒçš„æ ·æœ¬å¢åŠ ï¼Œæ›´å¤šçš„æ ·æœ¬éœ€è¦æ‹Ÿåˆï¼Œæ‹Ÿåˆéš¾åº¦å¢åŠ ï¼Œè®­ç»ƒè¯¯å·®å¯èƒ½ä¼šå¢å¤§ä¸€ç‚¹ã€‚æ­¤æ—¶ï¼Œç”±äºä½¿ç”¨äº†æ›´å¤šçš„è®­ç»ƒæ•°æ®ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªç¨å¾®å¥½ç‚¹çš„æ¨¡å‹ï¼Œå› æ­¤éªŒè¯è¯¯å·®ä¼šå‡å°ä¸€ç‚¹ï¼Œä½†ä¸ä¼šå¤ªå¤šã€‚æœ€åï¼Œå½“æ›´å¤šçš„æ•°æ®åŠ å…¥è®­ç»ƒï¼Œè®­ç»ƒè¯¯å·®ä¼šå¢åŠ ä¸€ç‚¹ï¼ŒéªŒè¯è¯¯å·®ä¼šå‡å°ä¸€ç‚¹ï¼Œå®ƒä»¬ä¼šè¶Šæ¥è¶Šé è¿‘ã€‚&lt;/p&gt;
&lt;p&gt;å›¾çš„ä¸­é—´ä¸€ä¸ªåˆšåˆšå¥½çš„æ¨¡å‹ï¼ˆ&lt;em&gt;å¯¹åº”äºŒæ¬¡æ›²çº¿æ¨¡å‹&lt;/em&gt;ï¼‰ã€‚è·Ÿå‰é¢æè¿°çš„æƒ…å†µä¸€æ ·ï¼Œéšç€å‚ä¸è®­ç»ƒçš„æ ·æœ¬å¢åŠ ï¼Œè®­ç»ƒè¯¯å·®ä¼šå¢åŠ ï¼ŒéªŒè¯è¯¯å·®ä¼šå‡å°ï¼Œæœ€åå®ƒä»¬ä¼šè¶Šæ¥è¶Šæ¥è¿‘ï¼Œä¸åŒäºå·¦ä¾§çš„æƒ…å†µï¼Œ&lt;strong&gt;éªŒè¯è¯¯å·®å’Œè®­ç»ƒè¯¯å·®ä¼šæ”¶æ•›åˆ°æ¯”è¾ƒä½çš„ä½ç½®&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å›¾çš„å³ä¾§æ˜¯ä¸€ä¸ªé«˜æ–¹å·®çš„æ¨¡å‹ï¼ˆ&lt;em&gt;å¯¹åº”é«˜é˜¶æ‹Ÿåˆæ¨¡å‹&lt;/em&gt;ï¼‰ï¼Œä¸€å¼€å§‹çš„æƒ…å†µè·Ÿå‰é¢ä¸¤ä¸ªæ¨¡å‹çš„æƒ…å†µä¸€æ ·ï¼Œä½†éšç€å‚ä¸è®­ç»ƒçš„æ ·æœ¬å¢åŠ ï¼Œè®­ç»ƒè¯¯å·®ä¼šå¢åŠ ï¼Œä½†ä¼šæ¯”è¾ƒå°ï¼Œå› ä¸ºæ­¤æ—¶çš„æ¨¡å‹è¯•å›¾å¯¹è®­ç»ƒé›†è¿›è¡Œè®°å¿†ï¼ŒåŒæ—¶éªŒè¯è¯¯å·®ä¼šå‡å°ï¼Œä½†ä¼šæ¯”è¾ƒå¤§ã€‚æœ€åï¼Œ&lt;strong&gt;éªŒè¯è¯¯å·®å’Œè®­ç»ƒè¯¯å·®ä¼šæ”¶æ•›ï¼Œä½†ä¸ä¼šé è¿‘&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;æ ·æœ¬åŒ…å«ä¸¤ç±»æ•°æ®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;data-visualization.png&#34; data-caption=&#34;Scatter Plot of data&#34;&gt;
&lt;img data-src=&#34;data-visualization.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption&gt;
    Scatter Plot of data
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;p&gt;é’ˆå¯¹è¯¥æ•°æ®ï¼Œæˆ‘ä»¬æ‹Ÿåˆä»¥ä¸‹ä¸‰ä¸ªæ¨¡å‹ï¼Œçœ‹çœ‹å®ƒä»¬çš„å­¦ä¹ æ›²çº¿å¦‚ä½•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€»è¾‘å›å½’æ¨¡å‹&lt;/li&gt;
&lt;li&gt;å†³ç­–æ ‘æ¨¡å‹&lt;/li&gt;
&lt;li&gt;æ”¯æŒå‘é‡æœºæ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from sklearn.model_selection import learning_curve
from sklearn.linear_model import LogisticRegression
from sklearn.ensemble import GradientBoostingClassifier
from sklearn.svm import SVC

# Load data
df = pd.read_csv(&#39;data.csv&#39;)
X = np.array(df[[&#39;x1&#39;, &#39;x2&#39;]])
y = np.array(df[&#39;y&#39;])

# Fix random seed
np.random.seed(55)

def randomize(X, Y):
    permutation = np.random.permutation(Y.shape[0])
    X2 = X[permutation,:]
    Y2 = Y[permutation]
    return X2, Y2

X2, y2 = randomize(X, y)

# Construct three models to draw learning curves
estimators = {}

# Logistic Regression
estimators[&#39;LR&#39;] = LogisticRegression()

# Decision Tree
estimators[&#39;DT&#39;] = GradientBoostingClassifier()

# Support Vector Machine
estimators[&#39;SVC&#39;] = SVC(kernel=&#39;rbf&#39;, gamma=1000)

plt.figure(figsize=(12, 6))

for i, m in enumerate(estimators):
    train_sizes, train_scores, test_scores = learning_curve(
        estimators[m], X2, y2, cv=None, n_jobs=1, train_sizes=np.linspace(.1, 1.0, 10))
    train_scores_mean = np.mean(train_scores, axis=1)
    # train_scores_std = np.std(train_scores, axis=1)
    test_scores_mean = np.mean(test_scores, axis=1)
    # test_scores_std = np.std(test_scores, axis=1)

    plt.subplot(1, 3, i + 1)
    plt.grid()

    plt.title(&amp;quot;Learning Curves of {}&amp;quot;.format(m))
    plt.xlabel(&amp;quot;Training examples&amp;quot;)
    plt.ylabel(&amp;quot;Score&amp;quot;)

    plt.plot(train_scores_mean, &#39;o-&#39;, color=&amp;quot;g&amp;quot;,
             label=&amp;quot;Training score&amp;quot;)
    plt.plot(test_scores_mean, &#39;o-&#39;, color=&amp;quot;y&amp;quot;,
             label=&amp;quot;Cross-validation score&amp;quot;)


    plt.legend(loc=&amp;quot;best&amp;quot;)

plt.tight_layout()
plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šä»£ç å°†ç”Ÿæˆä¸‰ä¸ªæ¨¡å‹çš„å­¦ä¹ æ›²çº¿ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€çœ‹ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;learning-curves.png&#34; &gt;
&lt;img data-src=&#34;learning-curves.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;æ ¹æ®è¿™äº›æ›²çº¿å¯ä»¥å¾—å‡ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€»è¾‘å›å½’æ¨¡å‹çš„è®­ç»ƒå’Œæµ‹è¯•å¾—åˆ†å¾ˆä½ã€‚&lt;/li&gt;
&lt;li&gt;å†³ç­–æ ‘æ¨¡å‹çš„è®­ç»ƒå’Œæµ‹è¯•å¾—åˆ†å¾ˆé«˜ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒå‘é‡æœºæ¨¡å‹çš„è®­ç»ƒå¾—åˆ†å¾ˆé«˜ï¼Œæµ‹è¯•å¾—åˆ†å¾ˆä½&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œå†³ç­–æ ‘æ¨¡å‹åˆšåˆšå¥½ï¼Œé€»è¾‘å›å½’æ¨¡å‹æ¬ æ‹Ÿåˆï¼Œè€Œæ”¯æŒå‘é‡æœºæ¨¡å‹è¿‡æ‹Ÿåˆã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥åè½¬è¿™äº›æ›²çº¿ï¼ˆå› ä¸ºåº¦é‡ä½¿ç”¨çš„æ˜¯å¾—åˆ†è€Œä¸æ˜¯è¯¯å·®ï¼‰ç„¶åä¸ä¸‹å›¾è¿›è¡Œå¯¹æ¯”ã€‚&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;learning-curves-2.png&#34; &gt;
&lt;img data-src=&#34;learning-curves-2.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨å®é™…æƒ…å†µä¸­æ˜¯å¦ä¹Ÿè¿™æ ·ï¼Œä¸ºæ­¤æˆ‘ä»¬ç»˜åˆ¶æ¨¡å‹çš„è¾¹ç•Œæ›²çº¿ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;models-boundary.png&#34; &gt;
&lt;img data-src=&#34;models-boundary.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€»è¾‘å›å½’æ¨¡å‹ä½¿ç”¨ä¸€æ¡ç›´çº¿ï¼Œè¿™å¤ªç®€å•äº†ã€‚åœ¨è®­ç»ƒé›†ä¸Šçš„æ•ˆæœä¸å¤ªå¥½ï¼Œå› æ­¤æ¬ æ‹Ÿåˆã€‚&lt;/li&gt;
&lt;li&gt;å†³ç­–æ ‘æ¨¡å‹ä½¿ç”¨ä¸€ä¸ªæ–¹å½¢ï¼Œæ‹Ÿåˆçš„å¾ˆå¥½ï¼Œå¹¶èƒ½å¤Ÿæ³›åŒ–ã€‚å› æ­¤ï¼Œè¯¥æ¨¡å‹æ•ˆæœå¾ˆå¥½ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒå‘é‡æœºæ¨¡å‹å®é™…ä¸Šåœ¨æ¯ä¸ªç‚¹å‘¨å›´éƒ½ç”»äº†ä¸€ä¸ªå°åœ†åœˆã€‚å®ƒå®é™…ä¸Šæ˜¯åœ¨è®°ä½è®­ç»ƒé›†ï¼Œæ— æ³•æ³›åŒ–ã€‚å› æ­¤ï¼Œè¿‡æ‹Ÿåˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;è¿™é‡Œçš„æµ‹è¯•å®ä¸ºéªŒè¯ï¼Œä¸åŒäºæœ€ç»ˆçš„æµ‹è¯•ï¼Œåè€…æŒ‡æ¨¡å‹è¯„ä¼°ï¼Œå‰è€…ä¸ºæ¨¡å‹éªŒè¯ã€‚ &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>è¯„ä¼°æŒ‡æ ‡</title>
      <link>https://keris.github.io/zh/post/metrics/</link>
      <pubDate>Wed, 11 Mar 2020 19:20:11 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/metrics/</guid>
      <description>&lt;h2&gt;ç›®å½•&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#æ··æ·†çŸ©é˜µ&#34;&gt;æ··æ·†çŸ©é˜µ&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#accuracy&#34;&gt;Accuracy&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#precision&#34;&gt;Precision&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#recall&#34;&gt;Recall&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#f1-score&#34;&gt;F1 score&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#f_beta-score&#34;&gt;$F_\beta$ score&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#roc-curve&#34;&gt;ROC Curve&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#auc&#34;&gt;AUC&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#å›å½’æŒ‡æ ‡&#34;&gt;å›å½’æŒ‡æ ‡&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;h2 id=&#34;æ··æ·†çŸ©é˜µ&#34;&gt;æ··æ·†çŸ©é˜µ&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;guessed positive&lt;/th&gt;
&lt;th&gt;guessed negative&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;positive&lt;/td&gt;
&lt;td&gt;true positives, #TP&lt;/td&gt;
&lt;td&gt;false negatives, #FN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;negative&lt;/td&gt;
&lt;td&gt;false positives, #FP&lt;/td&gt;
&lt;td&gt;true negatives, #TN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å‡è®¾æŸä¸ªæ¨¡å‹åœ¨ä¸€ç»„æ ·æœ¬ä¸Šçš„è¡¨ç°å¦‚ä¸‹ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;model-performance.png&#34; &gt;
&lt;img data-src=&#34;model-performance.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;å…¶ä¸­ï¼Œè“è‰²çš„ç‚¹ä¸ºæ­£ä¾‹ï¼ˆpositives)ï¼Œæ©™è‰²çš„ç‚¹ä¸ºè´Ÿä¾‹ï¼ˆnegativesï¼‰ï¼Œåˆ™æ··æ·†çŸ©é˜µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;guessed positive&lt;/th&gt;
&lt;th&gt;guessed negative&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;positive&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;negative&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;accuracy&#34;&gt;Accuracy&lt;/h2&gt;
&lt;p&gt;Accuracyï¼Œä¹Ÿå°±æ˜¯å‡†ç¡®ç‡ï¼Œè¡¨ç¤ºæ ·æœ¬ä¸­åˆ†ç±»æ­£ç¡®æ‰€å çš„æ¯”ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;$$\text{Accuracy} = \frac{\text{#TP} + \text{#TN}}{\text{#TP} + \text{#FP} + \text{#TN} + \text{#FN}}$$&lt;/p&gt;
&lt;p&gt;å…¶ä¸­:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#TP&lt;/code&gt;è¡¨ç¤º&lt;code&gt;true positive&lt;/code&gt;çš„æ•°ç›®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#FP&lt;/code&gt;è¡¨ç¤º&lt;code&gt;false positive&lt;/code&gt;çš„æ•°ç›®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#TN&lt;/code&gt;è¡¨ç¤º&lt;code&gt;true negative&lt;/code&gt;çš„æ•°ç›®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#FN&lt;/code&gt;è¡¨ç¤º&lt;code&gt;false negative&lt;/code&gt;çš„æ•°ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºå›¾1ä¸­çš„æ¨¡å‹ï¼Œå‡†ç¡®ç‡è®¡ç®—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{Accuracy} = \frac{6 + 5}{6 + 1 + 5 + 2} = \frac{11}{14}= 78.57\%$$&lt;/p&gt;
&lt;p&gt;å‡†ç¡®ç‡åœ¨æ•°æ®åæ–œçš„æƒ…å†µä¸‹å°†ä¸å†é€‚ç”¨ã€‚æ¯”å¦‚åœ¨ä¸‹å›¾æ‰€ç¤ºçš„ä¾‹å­ä¸­ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;credit-card-fraud.png&#34; &gt;
&lt;img data-src=&#34;credit-card-fraud.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;æ¨¡å‹éœ€è¦æ‰¾å‡ºè‰¯å¥½çš„äº¤æ˜“ï¼Œä½†æˆ‘ä»¬çš„æ ·æœ¬ä¸­ç»å¤§éƒ¨åˆ†éƒ½æ˜¯è‰¯å¥½çš„äº¤æ˜“ï¼Œè¿™å¯¼è‡´æ— è®ºæˆ‘ä»¬çš„æ¨¡å‹å¦‚ä½•ï¼Œå®ƒéƒ½å…·æœ‰å¾ˆé«˜çš„å‡†ç¡®ç‡ï¼Œå¦‚å›¾ä¸­æ‰€ç¤ºä¸º&lt;code&gt;99.83%&lt;/code&gt;ï¼ï¼Œæ­¤æ—¶å‡†ç¡®ç‡å°†ä¸èƒ½å¤Ÿè¯„ä¼°æˆ‘ä»¬çš„æ¨¡å‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;precision&#34;&gt;Precision&lt;/h2&gt;
&lt;p&gt;Precisionå³ç²¾åº¦ï¼Œè¡¨ç¤ºåœ¨æ‰€æœ‰é¢„æµ‹ä¸ºæ­£ä¾‹çš„æ ·æœ¬ä¸­æœ‰å¤šå°‘æ˜¯çœŸæ­£ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;$$\text{Precision} = \frac{\text{#TP}}{\text{#TP} + \text{#FP}}$$&lt;/p&gt;
&lt;p&gt;å¯¹äºå›¾1ä¸­çš„æ¨¡å‹ï¼Œç²¾åº¦è®¡ç®—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{Precision} = \frac{6}{6 + 2} = \frac{6}{8} = 75\%$$&lt;/p&gt;
&lt;h2 id=&#34;recall&#34;&gt;Recall&lt;/h2&gt;
&lt;p&gt;Recallå³ä¸ºå¬å›ç‡ï¼Œæ‰€æœ‰çš„æ­£ä¾‹æ ·æœ¬ä¸­çœŸæ­£ä¾‹æ‰€å çš„æ¯”ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{Recall} = \frac{\text{#TP}}{\text{#TP} + \text{#FN}}$$&lt;/p&gt;
&lt;p&gt;å¯¹äºå›¾1ä¸­çš„æ¨¡å‹ï¼Œå¬å›ç‡è®¡ç®—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{Recall} = \frac{6}{6 + 1} = \frac{6}{7} = 85.71\%$$&lt;/p&gt;
&lt;h2 id=&#34;f1-score&#34;&gt;F1 score&lt;/h2&gt;
&lt;p&gt;F1-scoreå®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{F1} = 2 \times \frac{\text{Precision} \times \text{Recall}}{\text{Precision} + \text{Recall}}$$&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°F1-scoreç»¼åˆäº†ç²¾åº¦å’Œå¬å›ç‡ï¼Œä¸ºç²¾åº¦å’Œå¬å›ç‡çš„è°ƒå’Œå¹³å‡ï¼š&lt;strong&gt;åœ¨å¬å›ç‡ä¸å˜çš„æ¡ä»¶ä¸‹ï¼Œç²¾åº¦è¶Šé«˜ï¼ŒF1-scoreè¶Šå¤§ï¼›åœ¨ç²¾åº¦ä¸å˜çš„æ¡ä»¶ä¸‹ï¼Œå¬å›ç‡è¶Šé«˜ï¼ŒF1-scoreè¶Šå¤§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;f_beta-score&#34;&gt;$F_\beta$ score&lt;/h2&gt;
&lt;p&gt;$F_\beta-\text{score}$å®šä¹‰ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;$$F_\beta = (1 + \beta^2) \times \frac{\text{Precision} \times \text{Recall}}{\beta^2 \times \text{Precision} + \text{Recall}}$$&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“$\beta = 1$æ—¶å³ä¸ºF1 scoreã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹$F_\beta$éš$\beta$å˜åŒ–çš„æƒ…å†µï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“$\beta = 0$æ—¶ï¼Œé€šè¿‡è®¡ç®—ä¸éš¾å¾—å‡º$F_0 = \text{Precision}$;&lt;/li&gt;
&lt;li&gt;ç›¸åï¼Œå½“$\beta$å–å¾ˆå¤§çš„å€¼æ—¶ï¼Œ$F_\beta$å°†è¶‹è¿‘å¬å›ç‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å°ç»“ï¼šå½“$\beta$å–è¾ƒå°çš„å€¼æ—¶ï¼Œç²¾åº¦æ¯”å¬å›ç‡é‡è¦ï¼Œå¦‚$F_{0.5}$ scoreï¼›å½“$\beta$å–è¾ƒå¤§å€¼æ—¶å¬å›ç‡æ¯”ç²¾åº¦é‡è¦ï¼Œå¦‚$F_2$ scoreã€‚&lt;/p&gt;
&lt;h2 id=&#34;roc-curve&#34;&gt;ROC Curve&lt;/h2&gt;
&lt;p&gt;ROC Curveçš„å…¨ç§°ä¸ºReceiver Operating Characteristic Curveï¼Œå³å—è¯•è€…å·¥ä½œç‰¹æ€§ç¼ºé™·ï¼Œå®ƒåˆ»ç”»äº†æ¨¡å‹åœ¨æ‰€æœ‰åˆ†ç±»é˜ˆå€¼ä¸‹çš„è¡¨ç°ã€‚&lt;/p&gt;
&lt;p&gt;è¦ç»˜åˆ¶è¯¥æ›²çº¿ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;True Positive Rate, TPR&lt;/li&gt;
&lt;li&gt;False Positive Rate, FPR&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TPRï¼Œè¡¨ç¤ºæ‰€æœ‰çš„æ­£ä¾‹æ ·æœ¬ä¸­çœŸæ­£ä¾‹çš„å æ¯”ï¼Œä¸éš¾å‘ç°ï¼Œè¿™å…¶å®è·Ÿå¬å›ç‡ä¸€ä¸ªæ¦‚å¿µï¼š&lt;/p&gt;
&lt;p&gt;$$\text{TPR} = \frac{\text{#TP}}{\text{#TP} + \text{#FN}}$$&lt;/p&gt;
&lt;p&gt;FPRï¼Œè¡¨ç¤ºæ‰€æœ‰çš„è´Ÿä¾‹æ ·æœ¬ä¸­å‡æ­£ä¾‹çš„å æ¯”ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{FPR} = \frac{\text{#FP}}{\text{#FP} + \text{#TN}}$$&lt;/p&gt;
&lt;p&gt;åœ¨ä¸åŒçš„åˆ†ç±»é˜ˆå€¼ä¸‹ç»˜åˆ¶TPR vs. FPRä¾¿å¾—åˆ°ROCæ›²çº¿ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;ROCCurve.svg&#34; &gt;
&lt;img data-src=&#34;ROCCurve.svg&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;h2 id=&#34;auc&#34;&gt;AUC&lt;/h2&gt;
&lt;p&gt;AUCçš„å…¨ç§°ä¸ºArea Under a ROC Curveï¼Œå³ROCæ›²çº¿ä¸‹çš„é¢ç§¯ã€‚&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;AUC.png&#34; &gt;
&lt;img data-src=&#34;AUC.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;h2 id=&#34;å›å½’æŒ‡æ ‡&#34;&gt;å›å½’æŒ‡æ ‡&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Mean Absolute Error (MAE)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;MAEå³å¹³å‡ç»å¯¹è¯¯å·®ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ç»„æ ·æœ¬${x_i, y_i}, i = 1, 2, \cdots, n$ï¼Œæ¨¡å‹çš„è¾“å‡ºä¸º$\text{preds} = [\hat{y}_1, \hat{y}_2, \cdots, \hat{y}_n]$ï¼Œåˆ™MAEè®¡ç®—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{MAE} = \frac{1}{n}\sum_i^n |y_i - \hat{y}_i|$$&lt;/p&gt;
&lt;p&gt;å€ŸåŠ©&lt;code&gt;sklearn&lt;/code&gt;ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®¡ç®—MAEï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from sklearn.metrics import mean_absolute_error
from sklearn.linear_model import LinearRegression
clf = LinearRegression()
preds = clf.fit(X, y)
error = mean_absolute_error(y, preds)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»å…¬å¼æ¥çœ‹ï¼ŒMAEä¸å¯å¯¼ï¼Œä½¿å¾—ä¸èƒ½é‡‡ç”¨æ¢¯åº¦ä¸‹é™æ–¹æ³•è¿›è¡Œä¼˜åŒ–ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å€ŸåŠ©å‡æ–¹è¯¯å·®ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Mean Squared Error (MSE)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;MSEå³å‡æ–¹è¯¯å·®ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\text{MSE} = \frac{1}{n}\sum_i^n (y_i - \hat{y}_i)^2$$&lt;/p&gt;
&lt;p&gt;åŒæ ·åœ°ï¼ŒMSEé€šè¿‡&lt;code&gt;sklearn&lt;/code&gt;å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œè®¡ç®—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from sklearn.metrics import mean_squared_error
from sklearn.linear_model import LinearRegression
clf = LinearRegression()
preds = clf.fit(X, y)
error = mean_squared_error(y, preds)
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;R2 Score&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;R2åˆ†æ•°é€šè¿‡å°†ç°æœ‰çš„æ¨¡å‹ä¸æœ€ç®€å•çš„å¯èƒ½æ¨¡å‹ç›¸æ¯”å¾—å‡ºã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦æ‹Ÿåˆä¸€å †æ•°æ®ç‚¹ï¼Œé‚£æœ€ç®€å•çš„å¯èƒ½æ¨¡å‹æ˜¯ä»€ä¹ˆï¼Ÿé‚£å°±æ˜¯æˆ‘ä»¬å–æ‰€æœ‰å€¼çš„å¹³å‡å€¼ï¼Œç„¶åç”»ä¸€æ¡æ°´å¹³çº¿ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºè¿™ä¸ªæ¨¡å‹çš„å‡æ–¹è¯¯å·®å¤§äºçº¿æ€§å›å½’æ¨¡å‹çš„å‡æ–¹è¯¯å·®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;r2.png&#34; &gt;
&lt;img data-src=&#34;r2.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;



&lt;/figure&gt;

&lt;p&gt;R2åˆ†æ•°å®šä¹‰ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;$$\text{R2} = 1 - \frac{\text{MSE of å½“å‰æ¨¡å‹}}{\text{MSE of æœ€ç®€å•çš„å¯èƒ½æ¨¡å‹}}$$&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œåˆ†å­ä¸ºçº¿æ€§å›å½’æ¨¡å‹ï¼ˆå³ä¾§ï¼‰çš„å‡æ–¹è¯¯å·®ï¼Œåˆ†æ¯ä¸ºç®€å•æ¨¡å‹ï¼ˆå·¦ä¾§ï¼‰çš„å‡æ–¹è¯¯å·®ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæœ€ç®€å•çš„å¯èƒ½æ¨¡å‹çš„å‡æ–¹è¯¯å·®å¤§äºçº¿æ€§å›å½’æ¨¡å‹çš„å‡æ–¹è¯¯å·®ï¼Œæˆ‘ä»¬åœ¨ç›¸æ¯”ä¹‹åå¾—åˆ°ä¸€ä¸ª0åˆ°1ä¹‹é—´çš„æ•°å­—ï¼Œä»è€ŒR2å¾—åˆ†ä¹Ÿæ˜¯ä¸€ä¸ª0åˆ°1ä¹‹é—´çš„æ•°ï¼Œå¹¶ä¸”æœ‰ä»¥ä¸‹ç»“è®ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R2è¶Šæ¥è¿‘0ï¼Œæˆ‘ä»¬çš„æ¨¡å‹è¶Šæ¥è¿‘æœ€ç®€å•çš„å¯èƒ½æ¨¡å‹ï¼Œæ­¤æ—¶æ¨¡å‹æ˜¯ä¸€ä¸ªbad model&lt;/li&gt;
&lt;li&gt;ç›¸åï¼ŒR2è¶Šæ¥è¿‘1ï¼Œè¯´æ˜æˆ‘ä»¬æ¨¡å‹ç›¸æ¯”æœ€ç®€å•çš„å¯èƒ½æ¨¡å‹å…·æœ‰æ›´å°çš„å‡æ–¹è¯¯å·®ï¼Œæ­¤æ—¶æ¨¡å‹æ˜¯ä¸€ä¸ªgood model&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨&lt;code&gt;sklearn&lt;/code&gt;ä¸­ï¼Œæˆ‘ä»¬å¦‚ä¸‹è®¡ç®—R2å¾—åˆ†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&amp;gt;&amp;gt;&amp;gt; from sklearn.metrics import r2_score
&amp;gt;&amp;gt;&amp;gt; y_true = [1, 2, 4]
&amp;gt;&amp;gt;&amp;gt; y_pred = [1.3, 2.5, 3.7]
&amp;gt;&amp;gt;&amp;gt; r2_score(y_true, y_pred)
&amp;gt;&amp;gt;&amp;gt; 0.9078571428571429
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>ä¿¡ç”¨è¯„åˆ†å¡æ¨¡å‹</title>
      <link>https://keris.github.io/zh/post/credit-score-card/</link>
      <pubDate>Tue, 03 Mar 2020 17:28:08 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/credit-score-card/</guid>
      <description>&lt;h2&gt;ç›®å½•&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#ä¿¡ç”¨è¯„åˆ†å¡æ¨¡å‹&#34;&gt;ä¿¡ç”¨è¯„åˆ†å¡æ¨¡å‹&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#è¯„åˆ†å¡æ¨¡å‹åˆ’åˆ†&#34;&gt;è¯„åˆ†å¡æ¨¡å‹åˆ’åˆ†&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#å¦‚ä½•åˆ©ç”¨è¯„åˆ†å¡å¯¹ç”¨æˆ·è¿›è¡Œè¯„åˆ†&#34;&gt;å¦‚ä½•åˆ©ç”¨è¯„åˆ†å¡å¯¹ç”¨æˆ·è¿›è¡Œè¯„åˆ†ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#å°ç»“&#34;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#è¯„åˆ†å¡æ¨¡å‹çš„å¼€å‘&#34;&gt;è¯„åˆ†å¡æ¨¡å‹çš„å¼€å‘&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#è¯„åˆ†å¡æ¨¡å‹å¼€å‘æµç¨‹&#34;&gt;è¯„åˆ†å¡æ¨¡å‹å¼€å‘æµç¨‹&lt;/a&gt;
          &lt;ul&gt;
            &lt;li&gt;&lt;a href=&#34;#æ•°æ®è·å–&#34;&gt;æ•°æ®è·å–&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&#34;#eda&#34;&gt;EDA&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&#34;#æ•°æ®é¢„å¤„ç†&#34;&gt;æ•°æ®é¢„å¤„ç†&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&#34;#æ•°æ®æ¸…æ´—&#34;&gt;æ•°æ®æ¸…æ´—&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&#34;#å˜é‡åˆ†ç®±&#34;&gt;å˜é‡åˆ†ç®±&lt;/a&gt;
              &lt;ul&gt;
                &lt;li&gt;&lt;a href=&#34;#æ— ç›‘ç£åˆ†ç®±&#34;&gt;æ— ç›‘ç£åˆ†ç®±&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&#34;#æœ‰ç›‘ç£åˆ†ç®±&#34;&gt;æœ‰ç›‘ç£åˆ†ç®±&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&#34;#å°ç»“-1&#34;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
              &lt;/ul&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;h2 id=&#34;ä¿¡ç”¨è¯„åˆ†å¡æ¨¡å‹&#34;&gt;ä¿¡ç”¨è¯„åˆ†å¡æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;ä¿¡ç”¨è¯„åˆ†å¡æ¨¡å‹æ˜¯ä¸€ç§æœ€å¸¸è§çš„é‡‘èé£æ§æ‰‹æ®µã€‚å®ƒæ˜¯æŒ‡æ ¹æ®å®¢æˆ·çš„å„ç§å±æ€§å’Œè¡Œä¸ºæ•°æ®æ„å»ºä¸€ä¸ªä¿¡ç”¨è¯„åˆ†æ¨¡å‹ï¼Œå¯¹å®¢æˆ·è¿›è¡Œä¿¡ç”¨è¯„åˆ†ï¼Œå¹¶æ®æ­¤å†³å®šæ˜¯å¦ç»™äºˆæˆä¿¡ä»¥åŠæˆä¿¡çš„é¢åº¦å’Œåˆ©ç‡ï¼Œä»è€Œè¯†åˆ«å’Œå‡å°‘åœ¨é‡‘èäº¤æ˜“ä¸­å­˜åœ¨çš„äº¤æ˜“é£é™©ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹ä¸ºè¯„åˆ†å¡æ¨¡å‹çš„ç¤ºæ„å›¾ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;credit-score-card-demo.png&#34; data-caption=&#34;Credit Score Card Demo&#34;&gt;
&lt;img data-src=&#34;credit-score-card-demo.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption data-pre=&#34;å›¾&#34; data-post=&#34;:&#34; class=&#34;numbered&#34;&gt;
    Credit Score Card Demo
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;h3 id=&#34;è¯„åˆ†å¡æ¨¡å‹åˆ’åˆ†&#34;&gt;è¯„åˆ†å¡æ¨¡å‹åˆ’åˆ†&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸åŒçš„ä¸šåŠ¡é˜¶æ®µæˆ‘ä»¬å¯ä»¥æ„å»ºä¸åŒçš„è¯„åˆ†å¡æ¨¡å‹ã€‚æ ¹æ®å€Ÿè´·æ—¶é—´ï¼Œè¯„åˆ†å¡æ¨¡å‹å¯ä»¥åˆ’åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è´·å‰ï¼šç”³è¯·è¯„åˆ†å¡ï¼ˆApplication score cardï¼‰ï¼Œåˆç§°ä¸ºAå¡&lt;/li&gt;
&lt;li&gt;è´·ä¸­ï¼šè¡Œä¸ºè¯„åˆ†å¡ï¼ˆBehavior score cardï¼‰ï¼Œåˆç§°ä¸ºBå¡&lt;/li&gt;
&lt;li&gt;è´·åï¼šå‚¬æ”¶è¯„åˆ†å¡ï¼ˆCollection score cardï¼‰ï¼Œåˆç§°ä¸ºCå¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¦‚ä½•åˆ©ç”¨è¯„åˆ†å¡å¯¹ç”¨æˆ·è¿›è¡Œè¯„åˆ†&#34;&gt;å¦‚ä½•åˆ©ç”¨è¯„åˆ†å¡å¯¹ç”¨æˆ·è¿›è¡Œè¯„åˆ†ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªç”¨æˆ·çš„è¯„åˆ†ç­‰äºåŸºå‡†åˆ†åŠ ä¸Šå¯¹å®¢æˆ·å„ä¸ªå±æ€§çš„è¯„åˆ†ã€‚å¯¹å‰é¢ç»™å‡ºçš„ç¤ºæ„å›¾ä¸­çš„ä¾‹å­è€Œè¨€ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;å®¢æˆ·è¯„åˆ† = åŸºå‡†åˆ† + å¹´é¾„è¯„åˆ† + æ€§åˆ«è¯„åˆ† + å©šå§»çŠ¶å†µè¯„åˆ† + å­¦å†è¯„åˆ† + æœˆæ”¶å…¥è¯„åˆ†
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç°æœ‰ä¸€å®¢æˆ·ï¼Œå…¶å¹´é¾„ä¸º27å²ï¼Œæ€§åˆ«ç”·ï¼Œå·²å©šï¼Œæœ¬ç§‘å­¦å†ï¼Œæœˆæ”¶å…¥ä¸º10kï¼Œé‚£ä¹ˆä»–çš„è¯„åˆ†ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;223(åŸºå‡†åˆ†) + 8(å¹´é¾„è¯„åˆ†) + 4(æ€§åˆ«è¯„åˆ†) + 8(å©šå§»çŠ¶å†µè¯„åˆ†) + 8(å­¦å†è¯„åˆ†) + 13(æœˆæ”¶å…¥è¯„åˆ†) = 264
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å°ç»“&#34;&gt;å°ç»“&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯è¯„åˆ†å¡æ¨¡å‹çš„å…·ä½“ç”¨æ³•ã€‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œä¸éš¾å‘ç°ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•é€‰æ‹©ç”¨æˆ·çš„å±æ€§ï¼Ÿ&lt;/li&gt;
&lt;li&gt;è¯„åˆ†å¡æ¨¡å‹é‡‡ç”¨çš„æ˜¯å¯¹å±æ€§çš„åˆ†æ®µè¿›è¡Œè¯„åˆ†ï¼Œé‚£ä¹ˆå¦‚ä½•è¿›è¡Œæœ‰æ•ˆçš„åˆ†æ®µï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦‚ä½•å¯¹æ¯ä¸ªåˆ†æ®µè¿›è¡Œè¯„åˆ†ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è¯„åˆ†å¡æ¨¡å‹çš„å¼€å‘&#34;&gt;è¯„åˆ†å¡æ¨¡å‹çš„å¼€å‘&lt;/h2&gt;
&lt;h3 id=&#34;è¯„åˆ†å¡æ¨¡å‹å¼€å‘æµç¨‹&#34;&gt;è¯„åˆ†å¡æ¨¡å‹å¼€å‘æµç¨‹&lt;/h3&gt;
&lt;p&gt;ä¿¡ç”¨è¯„åˆ†å¡æ¨¡å‹çš„å¼€å‘ä¸€èˆ¬åŒ…æ‹¬æ•°æ®è·å–ï¼ŒEDAï¼Œæ•°æ®é¢„å¤„ç†ï¼Œå˜é‡ç­›é€‰ï¼Œæ¨¡å‹å¼€å‘åŠè¯„ä¼°ï¼Œç”Ÿæˆè¯„åˆ†å¡æ¨¡å‹ï¼Œæ¨¡å‹ä¸Šçº¿åŠç›‘æµ‹ã€‚å…¸å‹çš„å¼€å‘æµç¨‹å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;credit-score-card-flowchart.png&#34; data-caption=&#34;Credit Score Card Flowchart&#34;&gt;
&lt;img data-src=&#34;credit-score-card-flowchart.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; width=&#34;70%&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption data-pre=&#34;å›¾&#34; data-post=&#34;:&#34; class=&#34;numbered&#34;&gt;
    Credit Score Card Flowchart
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;h4 id=&#34;æ•°æ®è·å–&#34;&gt;æ•°æ®è·å–&lt;/h4&gt;
&lt;p&gt;æ•°æ®ä¸»è¦æœ‰ä¸¤ä¸ªæ¥æºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‡‘èæœºæ„è‡ªæœ‰æ•°æ®ï¼šå¦‚ç”¨æˆ·çš„å¹´é¾„ï¼Œæˆ·ç±ï¼Œæ€§åˆ«ï¼Œæ”¶å…¥ï¼Œè´Ÿå€ºæ¯”ï¼Œåœ¨æœ¬æœºæ„çš„å€Ÿæ¬¾å’Œè¿˜æ¬¾è¡Œä¸ºç­‰&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰æ–¹æ•°æ®ï¼šå¦‚ç”¨æˆ·åœ¨å…¶ä»–æœºæ„çš„å€Ÿè´·è¡Œä¸ºï¼Œç”¨æˆ·çš„æ¶ˆè´¹è¡Œä¸ºæ•°æ®ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;eda&#34;&gt;EDA&lt;/h4&gt;
&lt;p&gt;EDAä¸º&lt;a href=&#34;https://en.wikipedia.org/wiki/Exploratory_data_analysis&#34;&gt;Exploratory Data Analysis&lt;/a&gt;çš„ç®€å†™ï¼Œå³æ¢ç´¢æ€§æ•°æ®åˆ†æã€‚è¿™ä¸ªé˜¶æ®µæ—¨åœ¨äº†è§£æ•°æ®çš„ä¸»è¦ç‰¹æ€§ï¼Œå¦‚å­—æ®µçš„ç¼ºå¤±æƒ…å†µï¼Œå¼‚å¸¸å€¼æƒ…å†µï¼Œä¸­ä½æ•°ï¼Œåˆ†å¸ƒç­‰ã€‚æœ€ååˆ¶å®šä¸€ä¸ªåˆç†çš„æ•°æ®é¢„å¤„ç†æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ•°æ®é¢„å¤„ç†&#34;&gt;æ•°æ®é¢„å¤„ç†&lt;/h4&gt;
&lt;p&gt;æ•°æ®é¢„å¤„ç†ä¸»è¦åŒ…æ‹¬æ•°æ®æ¸…æ´—ï¼Œå˜é‡åˆ†ç®±å’ŒWOEç¼–ç ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ•°æ®æ¸…æ´—&#34;&gt;æ•°æ®æ¸…æ´—&lt;/h4&gt;
&lt;p&gt;æ•°æ®æ¸…æ´—ä¸»è¦æ˜¯å¯¹æ•°æ®ä¸­çš„ç¼ºå¤±å€¼å’Œå¼‚å¸¸å€¼è¿›è¡Œå¤„ç†ã€‚ä¸€èˆ¬æˆ‘ä»¬é€‰æ‹©åˆ é™¤ç¼ºå¤±ç‡è¶…è¿‡æŸä¸ªé˜ˆå€¼&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ï¼ˆå¦‚30%ï¼Œ50%ç­‰ï¼‰çš„å˜é‡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å˜é‡åˆ†ç®±&#34;&gt;å˜é‡åˆ†ç®±&lt;/h4&gt;
&lt;p&gt;æ‰€è°“çš„åˆ†ç®±å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹è¿ç»­å˜é‡è¿›è¡Œåˆ†æ®µä»¥ç¦»æ•£åŒ–&lt;/li&gt;
&lt;li&gt;å°†ç¦»æ•£å˜é‡çš„å¤šä¸ªçŠ¶æ€è¿›è¡Œåˆå¹¶ï¼Œå‡å°‘ç¦»æ•£å˜é‡çš„çŠ¶æ€æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šè¿‡åˆ†ç®±æ“ä½œï¼Œæˆ‘ä»¬è¾¾åˆ°äº†å¯¹å˜é‡åˆ†æ®µçš„ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„åˆ†ç®±ç±»å‹å¦‚ä¸‹ï¼š&lt;/p&gt;













&lt;figure&gt;


  &lt;a data-fancybox=&#34;&#34; href=&#34;binning.png&#34; data-caption=&#34;å¸¸è§çš„å˜é‡åˆ†ç®±ç±»å‹&#34;&gt;
&lt;img data-src=&#34;binning.png&#34; class=&#34;lazyload&#34; alt=&#34;&#34; &gt;&lt;/a&gt;


  
  
  &lt;figcaption data-pre=&#34;å›¾&#34; data-post=&#34;:&#34; class=&#34;numbered&#34;&gt;
    å¸¸è§çš„å˜é‡åˆ†ç®±ç±»å‹
  &lt;/figcaption&gt;


&lt;/figure&gt;

&lt;h5 id=&#34;æ— ç›‘ç£åˆ†ç®±&#34;&gt;æ— ç›‘ç£åˆ†ç®±&lt;/h5&gt;
&lt;p&gt;æ— ç›‘ç£åˆ†ç®±ä¸»è¦åŒ…æ‹¬ä¸‰ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç­‰é¢‘åˆ†ç®±ï¼šæŠŠè‡ªå˜é‡çš„å€¼æŒ‰ä»å°åˆ°å¤§æ’åºï¼Œå°†è‡ªå˜é‡çš„å–å€¼ä¸ªæ•°ç­‰åˆ†ä¸º&lt;code&gt;k&lt;/code&gt;éƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ†ä½œä¸ºä¸€ä¸ªåˆ†ç®±&lt;/li&gt;
&lt;li&gt;ç­‰è·åˆ†ç®±ï¼šæŠŠè‡ªå˜é‡çš„å€¼æŒ‰ä»å°åˆ°å¤§æ’åºï¼Œå°†è‡ªå˜é‡çš„å–å€¼èŒƒå›´åˆ†ä¸º&lt;code&gt;k&lt;/code&gt;ä¸ªç­‰è·çš„åŒºé—´ï¼Œæ¯ä¸ªåŒºé—´ä½œä¸ºä¸€ä¸ªåˆ†ç®±&lt;/li&gt;
&lt;li&gt;èšç±»åˆ†ç®±ï¼šç”¨&lt;code&gt;k-means&lt;/code&gt;ç­‰èšç±»æ³•å°†è‡ªå˜é‡åˆ†ä¸º&lt;code&gt;k&lt;/code&gt;ç±»ï¼Œä½†éœ€è¦åœ¨èšç±»è¿‡ç¨‹ä¸­ä¿è¯åˆ†ç®±çš„æœ‰åºæ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å°ç»“ï¼š&lt;/strong&gt; æ— ç›‘ç£åˆ†ç®±ä»…è€ƒè™‘äº†å„ä¸ªå˜é‡è‡ªèº«çš„ç»“æ„ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘è‡ªå˜é‡ä¸ç›®æ ‡å˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œå› æ­¤è¿™ç§åˆ†ç®±æ–¹æ³•ä¸ä¸€å®šä¼šå¸¦æ¥æ¨¡å‹æ€§èƒ½çš„æå‡ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æœ‰ç›‘ç£åˆ†ç®±&#34;&gt;æœ‰ç›‘ç£åˆ†ç®±&lt;/h5&gt;
&lt;p&gt;æœ‰ç›‘ç£åˆ†ç®±ä¸»è¦åŒ…æ‹¬Splitåˆ†ç®±å’ŒMergeåˆ†ç®±ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Splitåˆ†ç®±æ˜¯ä¸€ç§è‡ªä¸Šè€Œä¸‹çš„åˆ†ç®±æ–¹æ³•ï¼Œå…¶å’Œå†³ç­–æ ‘æ¯”è¾ƒç›¸ä¼¼ï¼Œåˆ‡åˆ†ç‚¹çš„é€‰æ‹©æŒ‡æ ‡ä¸»è¦æœ‰entropyï¼Œ giniæŒ‡æ•°å’ŒIVå€¼ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;Mergeåˆ†ç®±æ˜¯ä¸€ç§è‡ªä¸‹è€Œä¸Šçš„åˆ†ç®±æ–¹æ³•ï¼Œå¸¸è§çš„mergeåˆ†ç®±ä¸ºChiMergeåˆ†ç®±ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ChiMergeåˆ†ç®±çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š&lt;em&gt;å¦‚æœä¸¤ä¸ªç›¸é‚»åŒºé—´å…·æœ‰ç›¸ä¼¼çš„ç±»åˆ†å¸ƒï¼Œåˆ™åˆå¹¶å®ƒä»¬ï¼Œå¦åˆ™ä¿æŒä¸å˜ã€‚ChiMergeé€šå¸¸é‡‡ç”¨å¡æ–¹å€¼æ¥åº¦é‡ä¸¤ç›¸é‚»åŒºé—´çš„ç±»åˆ†å¸ƒçš„ç›¸ä¼¼æ€§ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;è®¡ç®—å¡æ–¹å€¼çš„å…¬å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$
\chi^2 = \sum_{i=1}^2 \sum_{j=1}^k \frac{(A_{ij} - E_{ij})^2}{E_{ij}}
$$&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼š&lt;/p&gt;
&lt;p&gt;$k =$ ç±»åˆ«æ•°ç›®&lt;/p&gt;
&lt;p&gt;$A_{ij} =$ ç¬¬ $i$ ä¸ªåŒºé—´ä¸­ç¬¬$j$ä¸ªç±»åˆ«çš„æ ·æœ¬æ•°ç›®&lt;/p&gt;
&lt;p&gt;$E_{ij} = A_{ij}$çš„æœŸæœ›é¢‘ç‡$=\frac{R_i \times C_j}{N}$ï¼Œ$R_i =$ç¬¬$i$åŒºé—´çš„æ ·æœ¬æ•°ç›®$= \sum_{j=1}^k A_{ij}$ï¼Œ$C_j = $ç¬¬$j$ä¸ªç±»åˆ«çš„æ ·æœ¬æ•°ç›®$= \sum_{i=1}^2 A_{ij}$&lt;/p&gt;
&lt;p&gt;ChiMergeç®—æ³•åŒ…å«ä¸€ä¸ªåˆå§‹åŒ–æ­¥å’Œä¸€ä¸ªè‡ªåº•å‘ä¸Šçš„åˆå¹¶è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆå§‹åŒ–ï¼šå°†éœ€è¦ç¦»æ•£åŒ–çš„å±æ€§çš„å€¼æŒ‰ä»å°åˆ°å¤§æ’åºï¼Œå°†æ¯ä¸ªæ ·æœ¬ä½œä¸ºä¸€ä¸ªåŒºé—´&lt;/li&gt;
&lt;li&gt;åˆå¹¶åŒºé—´
&lt;ol&gt;
&lt;li&gt;è®¡ç®—æ¯å¯¹ç›¸é‚»åŒºé—´çš„$\chi^2$&lt;/li&gt;
&lt;li&gt;åˆå¹¶å…·æœ‰æœ€å°$\chi^2$çš„ç›¸é‚»åŒºé—´&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœæ‰€æœ‰ç›¸é‚»åŒºé—´å¯¹çš„$\chi^2$è¶…è¿‡äº†$\chi^2-threshold$ï¼Œåˆ™åœæ­¢ï¼Œå¦åˆ™å›åˆ°ç¬¬2æ­¥&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚ä½•ç¡®å®š$\chi^2-threshold$ï¼Ÿä¸ºæ­¤æˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªæƒ³è¦çš„æ˜¾è‘—æ€§æ°´å¹³å’Œè‡ªæœ‰åº¦ï¼Œç„¶åé€šè¿‡æŸ¥è¡¨æˆ–è€…å…¬å¼è·å¾—å¯¹åº”çš„$\chi^2$ã€‚å…¶ä¸­è‡ªç”±åº¦ä¸º&lt;code&gt;ç±»åˆ«æ•°ç›® - 1&lt;/code&gt;ï¼Œä¾‹å¦‚ï¼Œå½“æœ‰3ä¸ªç±»åˆ«æ—¶ï¼Œè‡ªç”±åº¦ä¸º2ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†ä½¿ç”¨$\chi^2-threshold$ï¼Œè¿˜å¯ä»¥æŒ‡å®š&lt;code&gt;æœ€å°åŒºé—´æ•°&lt;/code&gt;å’Œ&lt;code&gt;æœ€å¤§åŒºé—´æ•°&lt;/code&gt;æ¥ç¡®ä¿ä¸ä¼šäº§ç”Ÿå¤ªå°‘æˆ–è€…å¤ªå¤šçš„åŒºé—´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é‡‘èé£æ§ä¸­ï¼Œå½“æˆ‘ä»¬åº”ç”¨ChiMergeæ—¶ï¼Œåœ¨åˆå§‹åŒ–æ—¶å¾€å¾€æœ‰ä»¥ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿ç»­å€¼æŒ‰å‡åºæ’åˆ—ï¼Œç¦»æ•£å€¼é¦–å…ˆè½¬åŒ–ä¸ºåå®¢æˆ·çš„å æ¯”ï¼Œç„¶åå†æŒ‰å‡åºæ’åˆ—&lt;/li&gt;
&lt;li&gt;ä¸ºäº†å‡å°‘è®¡ç®—é‡ï¼Œå¯¹äºçŠ¶æ€æ•°å¤§äºæŸä¸€é˜ˆå€¼ï¼ˆå»ºè®®ä¸º100ï¼‰çš„å˜é‡ï¼Œåˆ©ç”¨ç­‰é¢‘åˆ†ç®±è¿›è¡Œç²—åˆ†ç®±&lt;/li&gt;
&lt;li&gt;è‹¥æœ‰ç¼ºå¤±å€¼ï¼Œåˆ™ç¼ºå¤±å€¼å•ç‹¬ä½œä¸ºä¸€ä¸ªåˆ†ç®±&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨åˆ†ç®±å®Œåè¿˜ä¼šåšè¿›ä¸€æ­¥çš„å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºåå®¢æˆ·å æ¯”ä¸º0æˆ–è€…1çš„åˆ†ç®±è¿›è¡Œåˆå¹¶ï¼ˆä¸€ä¸ªåˆ†ç®±å†…ä¸èƒ½å…¨ä¸ºå¥½å®¢æˆ·æˆ–è€…åå®¢æˆ·ï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹äºæ ·æœ¬å æ¯”è¶…è¿‡95%çš„ç®±å­è¿›è¡Œåˆ é™¤&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ç¼ºå¤±åˆ†ç®±çš„åå®¢æˆ·æ¯”ä¾‹æ˜¯å¦å’Œéç¼ºå¤±åˆ†ç®±ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œè¿›è¡Œåˆå¹¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å°ç»“-1&#34;&gt;å°ç»“&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;åˆ†ç®±å¯ä»¥æœ‰æ•ˆå¤„ç†ç¼ºå¤±å€¼å’Œå¼‚å¸¸å€¼&lt;/li&gt;
&lt;li&gt;åˆ†ç®±åæ•°æ®å’Œæ¨¡å‹ä¼šæ›´ç¨³å®š&lt;/li&gt;
&lt;li&gt;åˆ†ç®±å¯ä»¥ç®€åŒ–é€»è¾‘å›å½’æ¨¡å‹ï¼Œé™ä½è¿‡æ‹Ÿåˆé£é™©ï¼Œæé«˜æ³›åŒ–èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;åˆ†ç®±å°†ç‰¹å¾ç»Ÿä¸€å˜æ¢ä¸ºç±»åˆ«å‹å˜é‡&lt;/li&gt;
&lt;li&gt;åˆ†ç®±åå˜é‡æ‰å¯ä»¥ä½¿ç”¨æ ‡å‡†çš„è¯„åˆ†å¡æ ¼å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;é˜ˆå€¼çš„é€‰æ‹©éœ€è¦æ ¹æ®å®é™…æƒ…å†µç¡®å®šã€‚ &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
    </item>
    
    <item>
      <title>RFMæ¨¡å‹åŠå®è·µ</title>
      <link>https://keris.github.io/zh/post/what-is-rfm-model/</link>
      <pubDate>Wed, 26 Feb 2020 15:41:30 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/what-is-rfm-model/</guid>
      <description>&lt;p&gt;RFMæ˜¯ä¸€ç§ç”¨äºåˆ†æå®¢æˆ·ä»·å€¼çš„æ–¹æ³•ï¼Œå¸¸ç”¨äºè¥é”€ã€‚å…¶ä¸­RFMä»£è¡¨ä¸‰ä¸ªç»´åº¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;R&lt;/strong&gt;ecency è¡¨ç¤ºæœ€è¿‘ä¸€æ¬¡å®¢æˆ·è´­ä¹°çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;F&lt;/strong&gt;requency è¡¨ç¤ºåœ¨ç»Ÿè®¡å‘¨æœŸå†…å®¢æˆ·è´­ä¹°çš„æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;M&lt;/strong&gt;onetary Value è¡¨ç¤ºç»Ÿè®¡å‘¨æœŸå†…å®¢æˆ·æ¶ˆè´¹çš„æ€»é‡‘é¢&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨RFMæ¨¡å‹åˆ†æä¸€ä¸ªçœŸå®çš„&lt;a href=&#34;https://www.kaggle.com/carrie1/ecommerce-data#data.csv&#34;&gt;åœ¨çº¿è´­ç‰©æ•°æ®&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Import libraries
import pandas as pd
import matplotlib.pyplot as plt
import squarify
from datetime import timedelta
import seaborn as sns
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Read dataset
online = pd.read_csv(&#39;data.csv&#39;, encoding=&#39;ISO-8859-1&#39;)
online.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;InvoiceNo&lt;/th&gt;
      &lt;th&gt;StockCode&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
      &lt;th&gt;Quantity&lt;/th&gt;
      &lt;th&gt;InvoiceDate&lt;/th&gt;
      &lt;th&gt;UnitPrice&lt;/th&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;Country&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;536365&lt;/td&gt;
      &lt;td&gt;85123A&lt;/td&gt;
      &lt;td&gt;WHITE HANGING HEART T-LIGHT HOLDER&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;12/1/2010 8:26&lt;/td&gt;
      &lt;td&gt;2.55&lt;/td&gt;
      &lt;td&gt;17850.0&lt;/td&gt;
      &lt;td&gt;United Kingdom&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;536365&lt;/td&gt;
      &lt;td&gt;71053&lt;/td&gt;
      &lt;td&gt;WHITE METAL LANTERN&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;12/1/2010 8:26&lt;/td&gt;
      &lt;td&gt;3.39&lt;/td&gt;
      &lt;td&gt;17850.0&lt;/td&gt;
      &lt;td&gt;United Kingdom&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;536365&lt;/td&gt;
      &lt;td&gt;84406B&lt;/td&gt;
      &lt;td&gt;CREAM CUPID HEARTS COAT HANGER&lt;/td&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;12/1/2010 8:26&lt;/td&gt;
      &lt;td&gt;2.75&lt;/td&gt;
      &lt;td&gt;17850.0&lt;/td&gt;
      &lt;td&gt;United Kingdom&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;536365&lt;/td&gt;
      &lt;td&gt;84029G&lt;/td&gt;
      &lt;td&gt;KNITTED UNION FLAG HOT WATER BOTTLE&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;12/1/2010 8:26&lt;/td&gt;
      &lt;td&gt;3.39&lt;/td&gt;
      &lt;td&gt;17850.0&lt;/td&gt;
      &lt;td&gt;United Kingdom&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;536365&lt;/td&gt;
      &lt;td&gt;84029E&lt;/td&gt;
      &lt;td&gt;RED WOOLLY HOTTIE WHITE HEART.&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;12/1/2010 8:26&lt;/td&gt;
      &lt;td&gt;3.39&lt;/td&gt;
      &lt;td&gt;17850.0&lt;/td&gt;
      &lt;td&gt;United Kingdom&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;online.dtypes
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;InvoiceNo       object
StockCode       object
Description     object
Quantity         int64
InvoiceDate     object
UnitPrice      float64
CustomerID     float64
Country         object
dtype: object
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Convert InvoiceDate from object to datetime format
online[&#39;InvoiceDate&#39;] = pd.to_datetime(online[&#39;InvoiceDate&#39;])
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;online.dtypes
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;InvoiceNo              object
StockCode              object
Description            object
Quantity                int64
InvoiceDate    datetime64[ns]
UnitPrice             float64
CustomerID            float64
Country                object
dtype: object
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Check how many rows and columns
online.shape
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;(541909, 8)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Count transactions that don&#39;t have a customer id
print(&#39;{:,} transactions don\&#39;t have a customer id&#39;
     .format(online[online.CustomerID.isnull()].shape[0]))
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;135,080 transactions don&#39;t have a customer id
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Check invoice date range
print(&#39;Transactions timeframe from {} to {}&#39;
     .format(online.InvoiceDate.min(), online.InvoiceDate.max()))
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Transactions timeframe from 2010-12-01 08:26:00 to 2011-12-09 12:50:00
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Drop NA values from online
online.dropna(inplace=True)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Group data by CustomerID

# Create TotalSum column for online dataset
online[&#39;TotalSum&#39;] = online[&#39;Quantity&#39;] * online[&#39;UnitPrice&#39;]

# Create snapshot date
snapshot_date = online.InvoiceDate.max() + timedelta(days=1)
print(snapshot_date)

# Group by CustomerID
data = online.groupby([&#39;CustomerID&#39;]).agg({
    &#39;InvoiceDate&#39;: lambda x: (snapshot_date - x.max()).days,
    &#39;InvoiceNo&#39;: &#39;count&#39;,
    &#39;TotalSum&#39;: &#39;sum&#39;
})

data.rename(columns={&#39;InvoiceDate&#39;: &#39;Recency&#39;,
                     &#39;InvoiceNo&#39;: &#39;Frequency&#39;,
                     &#39;TotalSum&#39;: &#39;MonetaryValue&#39;}, inplace=True)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;2011-12-10 12:50:00
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Peek first 5 rows
data.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;MonetaryValue&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;12346.0&lt;/th&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12347.0&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;182&lt;/td&gt;
      &lt;td&gt;4310.00&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12348.0&lt;/th&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12349.0&lt;/th&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12350.0&lt;/th&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Check how many rows and columns
data.shape
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;(4372, 3)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ ¹æ®CutomerIDè¿›è¡Œåˆ†ç»„åï¼Œæˆ‘ä»¬èšåˆç”Ÿæˆäº†æ¯ä¸ªå®¢æˆ·æœ€è¿‘ä¸€æ¬¡è´­ä¹°çš„æ—¶é—´ï¼Œè´­ä¹°é¢‘ç‡å’Œæ¶ˆè´¹é¢åº¦ï¼Œå…±4372æ¡è®°å½•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è¿™ä¸‰ä¸ªç»´åº¦è¿›è¡Œæ‰“åˆ†ï¼Œè¿™å¯ä»¥é€šè¿‡&lt;code&gt;.qcut()&lt;/code&gt;æ¥è¿›è¡Œã€‚ä½†åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€çœ‹ç‰¹å¾çš„åˆ†å¸ƒæƒ…å†µã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Plot RFM distributions
plt.figure(figsize=(12,10))

# Plot distribution of R
plt.subplot(3, 1, 1)
sns.distplot(data[&#39;Recency&#39;])

# Plot distribution of F
plt.subplot(3, 1, 2)
sns.distplot(data[&#39;Frequency&#39;])

# Plot distribution of M
plt.subplot(3, 1, 3)
sns.distplot(data[&#39;MonetaryValue&#39;])
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;matplotlib.axes._subplots.AxesSubplot at 0x1199779b0&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;output_13_1.png&#34; alt=&#34;png&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Calculate R and F groups

# Create labels for Recency and Frequency
r_labels = range(4, 0, -1)
f_labels = range(1, 5)

# Assign these labels to 4 equal percentil groups
r_groups = pd.qcut(data[&#39;Recency&#39;], q=4, labels=r_labels)

f_groups = pd.qcut(data[&#39;Frequency&#39;], q=4, labels=f_labels)

# Create new columns R and F
data = data.assign(R=r_groups.values, F=f_groups.values)
data.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;MonetaryValue&lt;/th&gt;
      &lt;th&gt;R&lt;/th&gt;
      &lt;th&gt;F&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;12346.0&lt;/th&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12347.0&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;182&lt;/td&gt;
      &lt;td&gt;4310.00&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12348.0&lt;/th&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12349.0&lt;/th&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12350.0&lt;/th&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Create labels form MonetaryValue
m_labels = range(1, 5)
m_groups = pd.qcut(data[&#39;MonetaryValue&#39;], q=4, labels=m_labels)
data = data.assign(M=m_groups.values)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;data.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;MonetaryValue&lt;/th&gt;
      &lt;th&gt;R&lt;/th&gt;
      &lt;th&gt;F&lt;/th&gt;
      &lt;th&gt;M&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;12346.0&lt;/th&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12347.0&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;182&lt;/td&gt;
      &lt;td&gt;4310.00&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12348.0&lt;/th&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12349.0&lt;/th&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12350.0&lt;/th&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Concat RFM quartile values to create RFM segments
def join_rfm(x):
    return str(x[&#39;R&#39;]) + str(x[&#39;F&#39;]) + str(x[&#39;M&#39;])

data[&#39;RFM_segment_concat&#39;] = data.apply(join_rfm, axis=1)
rfm = data
rfm.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;MonetaryValue&lt;/th&gt;
      &lt;th&gt;R&lt;/th&gt;
      &lt;th&gt;F&lt;/th&gt;
      &lt;th&gt;M&lt;/th&gt;
      &lt;th&gt;RFM_segment_concat&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;12346.0&lt;/th&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;111&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12347.0&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;182&lt;/td&gt;
      &lt;td&gt;4310.00&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;444&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12348.0&lt;/th&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;224&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12349.0&lt;/th&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;334&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12350.0&lt;/th&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;112&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Count num of unique segments
rfm_count_unique = rfm.groupby(&#39;RFM_segment_concat&#39;)[&#39;RFM_segment_concat&#39;].nunique()
print(rfm_count_unique.sum())
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;62
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šç»“æœæ˜¾ç¤ºï¼Œå°†RFMè¿æ¥åœ¨ä¸€èµ·è¿™ç§æ–¹æ³•å…±å½¢æˆ62ä¸ªåˆ’åˆ†ï¼Œä½†åˆ’åˆ†å¤ªå¤šäº†ä¸èƒ½ç”¨äºå®é™…åº”ç”¨ã€‚ä¸‹é¢æˆ‘ä»¬å°è¯•å°†è¿™ä¸‰ä¸ªå€¼ç›¸åŠ ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Calculate RFM_Score
rfm[&#39;RFM_Score&#39;] = rfm[[&#39;R&#39;, &#39;F&#39;, &#39;M&#39;]].sum(axis=1)
print(rfm[&#39;RFM_Score&#39;].head())
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;CustomerID
12346.0     3.0
12347.0    12.0
12348.0     8.0
12349.0    10.0
12350.0     4.0
Name: RFM_Score, dtype: float64
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Define rfm_level function
def rfm_level(df):
    if df[&#39;RFM_Score&#39;] &amp;gt;= 9:
        return &#39;Can\&#39;t Loose Them&#39;
    elif ((df[&#39;RFM_Score&#39;] &amp;gt;= 8) and (df[&#39;RFM_Score&#39;] &amp;lt; 9)):
        return &#39;Champions&#39;
    elif ((df[&#39;RFM_Score&#39;] &amp;gt;= 7) and (df[&#39;RFM_Score&#39;] &amp;lt; 8)):
        return &#39;Loyal&#39;
    elif ((df[&#39;RFM_Score&#39;] &amp;gt;= 6) and (df[&#39;RFM_Score&#39;] &amp;lt; 7)):
        return &#39;Potential&#39;
    elif ((df[&#39;RFM_Score&#39;] &amp;gt;= 5) and (df[&#39;RFM_Score&#39;] &amp;lt; 6)):
        return &#39;Promising&#39;
    elif ((df[&#39;RFM_Score&#39;] &amp;gt;= 4) and (df[&#39;RFM_Score&#39;] &amp;lt; 5)):
        return &#39;Needs Attention&#39;
    else:
        return &#39;Require Activation&#39;

# Create a new variable RFM_Level
rfm[&#39;RFM_Level&#39;] = rfm.apply(rfm_level, axis=1)

rfm.head()
&lt;/code&gt;&lt;/pre&gt;
&lt;div&gt;
&lt;style scoped&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
&lt;pre&gt;&lt;code&gt;.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/style&gt;&lt;/p&gt;
&lt;table border=&#34;1&#34; class=&#34;dataframe&#34;&gt;
  &lt;thead&gt;
    &lt;tr style=&#34;text-align: right;&#34;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;Recency&lt;/th&gt;
      &lt;th&gt;Frequency&lt;/th&gt;
      &lt;th&gt;MonetaryValue&lt;/th&gt;
      &lt;th&gt;R&lt;/th&gt;
      &lt;th&gt;F&lt;/th&gt;
      &lt;th&gt;M&lt;/th&gt;
      &lt;th&gt;RFM_segment_concat&lt;/th&gt;
      &lt;th&gt;RFM_Score&lt;/th&gt;
      &lt;th&gt;RFM_Level&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;CustomerID&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;12346.0&lt;/th&gt;
      &lt;td&gt;326&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.00&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;111&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;Require Activation&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12347.0&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;182&lt;/td&gt;
      &lt;td&gt;4310.00&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;444&lt;/td&gt;
      &lt;td&gt;12.0&lt;/td&gt;
      &lt;td&gt;Can&#39;t Loose Them&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12348.0&lt;/th&gt;
      &lt;td&gt;75&lt;/td&gt;
      &lt;td&gt;31&lt;/td&gt;
      &lt;td&gt;1797.24&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;224&lt;/td&gt;
      &lt;td&gt;8.0&lt;/td&gt;
      &lt;td&gt;Champions&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12349.0&lt;/th&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;73&lt;/td&gt;
      &lt;td&gt;1757.55&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;334&lt;/td&gt;
      &lt;td&gt;10.0&lt;/td&gt;
      &lt;td&gt;Can&#39;t Loose Them&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;12350.0&lt;/th&gt;
      &lt;td&gt;310&lt;/td&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;334.40&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;112&lt;/td&gt;
      &lt;td&gt;4.0&lt;/td&gt;
      &lt;td&gt;Needs Attention&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Calculate average values for each RFM_Level, and return a size of each segment
rfm_level_agg = rfm.groupby(&#39;RFM_Level&#39;).agg({
    &#39;Recency&#39;: &#39;mean&#39;,
    &#39;Frequency&#39;: &#39;mean&#39;,
    &#39;MonetaryValue&#39;: [&#39;mean&#39;, &#39;count&#39;]
}).round(1)

# Print the aggregate dataset
print(rfm_level_agg)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;                   Recency Frequency MonetaryValue
                      mean      mean          mean count
RFM_Level
Can&#39;t Loose Them      25.2     195.1        4130.3  1690
Champions             62.7      57.0         974.7   467
Loyal                 78.8      39.7         724.2   447
Needs Attention      174.5      13.9         227.1   391
Potential             94.3      28.5         491.8   468
Promising            153.0      21.2         346.8   517
Require Activation   264.8       7.8         109.1   392
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»ä»¥ä¸Šç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œçº¦60%çš„å®¢æˆ·å±äºä¼˜è´¨å®¢æˆ·ï¼ˆå‰ä¸‰ç±»ç”¨æˆ·ï¼‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Visualize segments
rfm_level_agg.columns = rfm_level_agg.columns.droplevel()
rfm_level_agg.columns = [&#39;RecencyMean&#39;, &#39;FrequencyMean&#39;, &#39;MonetaryMean&#39;, &#39;Count&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# Create our plot and resize it
fig = plt.gcf()
ax = fig.add_subplot()
fig.set_size_inches(16, 9)

squarify.plot(sizes=rfm_level_agg[&#39;Count&#39;], label=list(rfm_level_agg.index), alpha=.6)
plt.title(&#39;RFM Segments&#39;, fontsize=18, fontweight=&#39;bold&#39;)
plt.axis(&#39;off&#39;)
plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;output_25_0.png&#34; alt=&#34;png&#34;&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰</title>
      <link>https://keris.github.io/zh/post/logistic-regression/</link>
      <pubDate>Tue, 14 Jan 2020 16:47:22 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/logistic-regression/</guid>
      <description>&lt;h2&gt;ç›®å½•&lt;/h2&gt;
&lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#æœ¯è¯­&#34;&gt;æœ¯è¯­&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#logistic-function&#34;&gt;Logistic function&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#odds&#34;&gt;Odds&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#logit-function&#34;&gt;Logit function&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#é€»è¾‘å›å½’&#34;&gt;é€»è¾‘å›å½’&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#ä»£ä»·å‡½æ•°æ±‚å¯¼&#34;&gt;ä»£ä»·å‡½æ•°æ±‚å¯¼&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;
&lt;h2 id=&#34;æœ¯è¯­&#34;&gt;æœ¯è¯­&lt;/h2&gt;
&lt;p&gt;é€»è¾‘å›å½’æ¶‰åŠåˆ°ä»¥ä¸‹æœ¯è¯­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Logistic function&lt;/li&gt;
&lt;li&gt;Odds&lt;/li&gt;
&lt;li&gt;Logit&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;logistic-function&#34;&gt;Logistic function&lt;/h3&gt;
&lt;p&gt;é€»è¾‘å›å½’ä¸­çš„ &lt;em&gt;Logistic&lt;/em&gt; æ­£æ˜¯å‡ºäº &lt;em&gt;Logistic function&lt;/em&gt; ï¼Œå®ƒæ˜¯ä¸€ç§ &lt;em&gt;sigmoid function&lt;/em&gt; ï¼Œå…¶æ¥å—ä»»æ„å®å€¼ï¼Œè¾“å‡ºä¸€ä¸ª0åˆ°1ä¹‹é—´çš„å€¼ã€‚
&lt;em&gt;æ ‡å‡†çš„&lt;/em&gt; logistic funtion å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$\sigma(z) = \frac{e^z}{e^z + 1} = \frac{1}{1 + e^{-z}}$$&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹æ˜¯å®ƒåœ¨åŒºé—´$[-6, 6]$ä¹‹é—´çš„å›¾åƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;a title=&#34;logistic function curve&#34; href=&#34;https://commons.wikimedia.org/wiki/File:Logistic-curve.svg&#34;&gt;&lt;img width=&#34;512&#34; alt=&#34;Logistic-curve&#34; src=&#34;https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Logistic-curve.svg/512px-Logistic-curve.svg.png&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨é€»è¾‘å›å½’ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¯¹æ•°å‡ ç‡ï¼ˆlog oddsï¼‰ï¼Œ&lt;strong&gt;å¹¶å‡å®šå®ƒæ˜¯è¾“å…¥ç‰¹å¾çš„çº¿æ€§ç»„åˆ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;p&gt;$$z = \ln \frac{p(x)}{1 - p(x)}= \theta_0 + \theta_1 x_1 + \theta_2 x_2 = \theta^T \cdot x$$&lt;/p&gt;
&lt;p&gt;ç”±ä¸Šå¼æˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼Œ&lt;/p&gt;
&lt;p&gt;$$p(x) = \sigma(z) = \frac{1}{1 + e^{-\theta^T \cdot x}}$$&lt;/p&gt;
&lt;p&gt;åœ¨é€»è¾‘å›å½’æ¨¡å‹ä¸­ï¼Œè¿™é‡Œçš„ $p(x)$ ä¸ºå› å˜é‡åœ¨æˆåŠŸæƒ…å½¢ä¸‹çš„æ¦‚ç‡ï¼Œå³ $p(y=1 \mid x)$ã€‚&lt;/p&gt;
&lt;h3 id=&#34;odds&#34;&gt;Odds&lt;/h3&gt;
&lt;p&gt;å¦‚æœ $p$ è¡¨ç¤ºä¸€ä¸ªäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ï¼Œé‚£ä¹ˆoddså®šä¹‰ä¸º&lt;/p&gt;
&lt;p&gt;$$\text{odds} = \frac{p}{1 - p}$$
ä¹Ÿå°±æ˜¯è¯´ï¼Œoddsä¸ºå‘ç”Ÿçš„æ¦‚ç‡é™¤ä»¥ä¸å‘ç”Ÿçš„æ¦‚ç‡ï¼Œäº¦å¯ä»¥è¯´ä¸ºæˆåŠŸçš„æ¦‚ç‡é™¤ä»¥å¤±è´¥çš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;logit-function&#34;&gt;Logit function&lt;/h3&gt;
&lt;p&gt;Logitä¸ºLog odds, logit function å®šä¹‰ä¸º logistic functionçš„é€†ï¼Œå³ $g = \sigma^{-1}$ã€‚æ˜¾è€Œæ˜“è§ï¼Œæˆ‘ä»¬æœ‰&lt;/p&gt;
&lt;p&gt;$$g(p(x)) = \sigma_{-1}(p(x)) = \text{logit}\,p(x) = \ln(\frac{p(x)}{1 - p(x)}) = \theta^T \cdot x$$&lt;/p&gt;
&lt;h2 id=&#34;é€»è¾‘å›å½’&#34;&gt;é€»è¾‘å›å½’&lt;/h2&gt;
&lt;p&gt;é€»è¾‘å›å½’æ˜¯ä¸€ä¸ªé‡è¦çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œå…¶ç›®æ ‡æ˜¯åŸºäºç»™å®šçš„æ•°æ®$x$è¾“å‡ºéšæœºå˜é‡$y$ä¸º0æˆ–1çš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;p&gt;è€ƒè™‘ç”±$\theta$å‚æ•°åŒ–çš„çº¿æ€§æ¨¡å‹ï¼Œ&lt;/p&gt;
&lt;p&gt;$$h_\theta(x) = \frac{1}{1 + e^{-\theta^T \cdot x}} = \text{Pr}(y = 1 \mid x;\theta)$$&lt;/p&gt;
&lt;p&gt;ä»è€Œï¼Œ$\text{Pr}(y=0 \mid x;\theta) = 1 - h_\theta(x)$ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸º$y \in \{0, 1 \}$ï¼Œæˆ‘ä»¬æœ‰&lt;/p&gt;
&lt;p&gt;$$\text{Pr}(y \mid x;\theta) = h_\theta(x)^y (1 - h_\theta(x))^{1 - y}
$$&lt;/p&gt;
&lt;p&gt;ä¼¼ç„¶å‡½æ•°ä¸º&lt;/p&gt;
&lt;p&gt;$$\begin{aligned} L(\theta \mid x) &amp;amp;= \Pr(Y\mid X;\theta) \\&lt;br&gt;
&amp;amp;= \prod_i \Pr(y^{(i)} \mid x^{(i)};\theta) \\&lt;br&gt;
&amp;amp;= \prod_i h_\theta(x^{(i)})^{y^{(i)}}(1-h_\theta(x^{(i)}))^{1-y^{(i)}} \end{aligned}$$&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬åœ°ï¼Œæˆ‘ä»¬æœ€å¤§åŒ–å¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼Œ&lt;/p&gt;
&lt;p&gt;$$\log L(\theta \mid x) = \sum_{i=1}^{m}\log \Pr(y^{(i)} \mid x^{(i)};\theta)$$&lt;/p&gt;
&lt;p&gt;å®šä¹‰ä»£ä»·å‡½æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$J(\theta) = -\frac{1}{m} \log L(\theta \mid x) = -\frac{1}{m} \sum_i^m (y^{(i)} \log h_\theta(x^{(i)}) + (1 - y^{(i)})(1 - h_\theta(x^{(i)})))$$&lt;/p&gt;
&lt;p&gt;å®¹æ˜“çœ‹åˆ°ï¼Œæˆ‘ä»¬æœ€å¤§åŒ–å¯¹æ•°ä¼¼ç„¶å‡½æ•°å°±æ˜¯æœ€å°åŒ–ä»£ä»·å‡½æ•° $J(\theta)$ã€‚åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¢¯åº¦ä¸‹é™æœ€å°åŒ–ä»£ä»·å‡½æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»£ä»·å‡½æ•°æ±‚å¯¼&#34;&gt;ä»£ä»·å‡½æ•°æ±‚å¯¼&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å¯¹ä»£ä»·å‡½æ•°$J(\theta)$å¯¹$\theta$è¿›è¡Œæ±‚å¯¼ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘åœ¨ä¸€ä¸ªæ ·æœ¬ä¸Šçš„ä»£ä»·å‡½æ•°&lt;/p&gt;
&lt;p&gt;$$J_1(\theta) = -y \log h_\theta(x) - (1 - y)(1 - h_\theta(x))$$&lt;/p&gt;
&lt;p&gt;ç°åœ¨å¯¹$J_1(\theta)$å¯¹$\theta$è¿›è¡Œæ±‚å¯¼ï¼š&lt;/p&gt;
&lt;p&gt;æ³¨æ„åˆ°$\frac{d\sigma(z)}{dz} = \sigma(z) (1 - \sigma(z))$, æˆ‘ä»¬æœ‰&lt;/p&gt;
&lt;p&gt;$$\begin{aligned}\frac{\partial}{\partial \theta_j} J_1(\theta) &amp;amp;= -y \frac{1}{h_\theta(x)} h_\theta(x) (1 - h_\theta(x)) x_j - (1 - y) \frac{1}{1 - h_\theta(x)} (-1) h_\theta(x) (1 - h_\theta(x)) x_j \\ &amp;amp;= (h_\theta(x) - y) x_j\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;æœ‰äº†ä»¥ä¸Šç»“æœï¼Œæˆ‘ä»¬æœ‰&lt;/p&gt;
&lt;p&gt;$$\frac{\partial}{\partial \theta_j} J(\theta) = \frac{1}{m}\sum_i^m [h_\theta(x^{(i)}) - y^{(i)}]x_j^{(i)}$$&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>æ›´æ”¹gitæäº¤ä¸­çš„ä½œè€…å’Œé‚®ä»¶ä¿¡æ¯</title>
      <link>https://keris.github.io/zh/post/change-author-name-email/</link>
      <pubDate>Thu, 07 Nov 2019 17:47:23 +0800</pubDate>
      <guid>https://keris.github.io/zh/post/change-author-name-email/</guid>
      <description>&lt;p&gt;åœ¨gitçš„æ—¥å¸¸ä½¿ç”¨ä¸­æ›´æ”¹æäº¤çš„ä½œè€…åå’Œé‚®ç®±æ˜¯ä¸€ä¸ªååˆ†å¸¸è§çš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œå½“ä½ å…‹éš†äº†ä¸€ä¸ªé¡¹ç›®ï¼Œå¦‚æœä½ æ²¡æœ‰è¿›è¡Œä»»ä½•è®¾ç½®ï¼Œæ­¤æ—¶æäº¤çš„ä½œè€…å’Œé‚®ä»¶å°†ä½¿ç”¨å…¨å±€é€‰é¡¹ï¼Œè¿™å¯èƒ½ä¸æ˜¯ä½ æ‰€è¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡æœ¬æ–‡ä½ å°†äº†è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚ä½•é…ç½®gitä½¿ç”¨çš„æäº¤è€…ç”¨æˆ·åå’Œé‚®ç®±&lt;/li&gt;
&lt;li&gt;å¦‚ä½•æ›´æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤çš„ä½œè€…åå’Œé‚®ä»¶&lt;/li&gt;
&lt;li&gt;æ‰¹é‡æ›´æ”¹æäº¤çš„ä½œè€…åå’Œé‚®ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é…ç½®æäº¤è€…ç”¨æˆ·åå’Œé‚®ç®±&#34;&gt;é…ç½®æäº¤è€…ç”¨æˆ·åå’Œé‚®ç®±&lt;/h2&gt;
&lt;p&gt;ä½ æœ‰ä¸¤ç§æ–¹å¼è¿›è¡Œè®¾ç½®ï¼Œä¸€æ˜¯å…¨å±€é…ç½®ï¼ŒäºŒæ˜¯ä¸ºæ¯ä¸ªrepoå•ç‹¬é…ç½®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…¨å±€åœ°æ›´æ”¹æäº¤è€…ç”¨æˆ·åå’Œé‚®ç®±&#34;&gt;å…¨å±€åœ°æ›´æ”¹æäº¤è€…ç”¨æˆ·åå’Œé‚®ç®±&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;git config&lt;/code&gt;å¹¶&lt;code&gt;--global&lt;/code&gt;é€‰é¡¹è¿›è¡Œå…¨å±€è®¾ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ git config --global user.name &amp;quot;Du Liqiang&amp;quot;
$ git config --global user.email &amp;quot;dlq137@gmail.com&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¾ç½®å®Œæ¯•åï¼Œåç»­çš„æäº¤å°†ä½¿ç”¨ä»¥ä¸Šæä¾›çš„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºæŸä¸ªrepoå•ç‹¬é…ç½®&#34;&gt;ä¸ºæŸä¸ªrepoå•ç‹¬é…ç½®&lt;/h3&gt;
&lt;p&gt;å…¨å±€é€‰é¡¹å¯èƒ½å¹¶ä¸é€‚ç”¨äºæŸä¸ªrepoï¼Œæ­¤æ—¶å°±éœ€è¦å•ç‹¬è®¾ç½®ï¼Œä½¿ç”¨&lt;code&gt;git config&lt;/code&gt;ä½†çœç•¥&lt;code&gt;--global&lt;/code&gt;é€‰é¡¹ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ git config user.name &amp;quot;Du Liqiang&amp;quot;
$ git config user.email &amp;quot;dlq137@gmail.com&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œçš„è®¾ç½®å°†è¦†ç›–å…¨å±€é€‰é¡¹ï¼Œå¹¶ä¸”åªåº”ç”¨äºå½“å‰çš„repoã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ›´æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤çš„ä½œè€…ç”¨æˆ·åå’Œé‚®ç®±&#34;&gt;æ›´æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤çš„ä½œè€…ç”¨æˆ·åå’Œé‚®ç®±&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ åˆšåšäº†ä¸€æ¬¡æäº¤ï¼Œå‘ç°ç”¨æˆ·åå’Œé‚®ç®±å¹¶ä¸æ˜¯æ‰€è¦çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;--amend&lt;/code&gt;é€‰é¡¹é‡æ–°æäº¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ git commit --amend --author=&amp;quot;Du Liqiang &amp;lt;dlq137@gmail.com&amp;gt;&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ›´æ”¹å¤šæ¬¡æäº¤çš„ä½œè€…ç”¨æˆ·åå’Œé‚®ç®±&#34;&gt;æ›´æ”¹å¤šæ¬¡æäº¤çš„ä½œè€…ç”¨æˆ·åå’Œé‚®ç®±&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦å€ŸåŠ©å¼ºå¤§çš„&lt;code&gt;rebase&lt;/code&gt;å‘½ä»¤ï¼Œé¦–å…ˆæˆ‘ä»¬æ‰¾åˆ°ä¸Šä¸€æ¬¡â€œå¥½â€çš„æäº¤&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;ï¼Œå¹¶å‡è®¾å…¶æäº¤hashä¸º&lt;code&gt;0ad14fa5&lt;/code&gt;ï¼Œæ‰§è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ git rebase -i -p 0ad14fa5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶æˆ‘ä»¬ä¼šè¿›å…¥ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œå°†é‚£äº›éœ€è¦ç¼–è¾‘çš„æäº¤å…¨æ ‡è®°ä¸º&lt;code&gt;edit&lt;/code&gt;ï¼Œæ¥ä¸‹æ¥gitä¼šæŒ‡å¯¼ä½ å®Œæˆæ¯æ¬¡æäº¤çš„ç¼–è¾‘ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯æ‰§è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git commit --amend --author=&amp;quot;Du Liqiang &amp;lt;dlq137@gmail.com&amp;gt; --no-edit
$ git rebase --continue
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä½¿ç”¨git-filter-branchæ‰¹é‡æ›´æ”¹&#34;&gt;ä½¿ç”¨git filter-branchæ‰¹é‡æ›´æ”¹&lt;/h2&gt;
&lt;p&gt;é™¤äº†ä»¥ä¸Šäº¤äº’å¼çš„æ›´æ”¹æ–¹æ³•ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯å€ŸåŠ©gitçš„&lt;code&gt;filter-branch&lt;/code&gt;å‘½ä»¤ï¼Œå…¶å…è®¸ä½ ä½¿ç”¨ä¸€ä¸ªscriptæ‰¹é‡å¤„ç†å¤§é‡çš„æäº¤ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å‘½ä»¤ç­›é€‰æäº¤é‚®ç®±ä¸ºWRONG_EMAILçš„æäº¤ï¼Œå¹¶å°†å…¶ç”¨æˆ·åå’Œé‚®ç®±åˆ†åˆ«è®¾ç½®ä¸ºNEW_NAMEå’ŒNEW_EMAILå¯¹åº”çš„å€¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;$ git filter-branch --env-filter &#39;
WRONG_EMAIL=&amp;quot;wrong@example.com&amp;quot;
NEW_NAME=&amp;quot;New Name Value&amp;quot;
NEW_EMAIL=&amp;quot;correct@example.com&amp;quot;

if [ &amp;quot;$GIT_COMMITTER_EMAIL&amp;quot; = &amp;quot;$WRONG_EMAIL&amp;quot; ]
then
    export GIT_COMMITTER_NAME=&amp;quot;$NEW_NAME&amp;quot;
    export GIT_COMMITTER_EMAIL=&amp;quot;$NEW_EMAIL&amp;quot;
fi
if [ &amp;quot;$GIT_AUTHOR_EMAIL&amp;quot; = &amp;quot;$WRONG_EMAIL&amp;quot; ]
then
    export GIT_AUTHOR_NAME=&amp;quot;$NEW_NAME&amp;quot;
    export GIT_AUTHOR_EMAIL=&amp;quot;$NEW_EMAIL&amp;quot;
fi
&#39; --tag-name-filter cat -- --branches --tags
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.git-tower.com/learn/git/faq/change-author-name-email&#34;&gt;https://www.git-tower.com/learn/git/faq/change-author-name-email&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34; role=&#34;doc-endnote&#34;&gt;
&lt;p&gt;è¯¥æ¬¡æäº¤ä¹‹å‰çš„æäº¤å…·æœ‰æ­£ç¡®çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œå…¶åçš„éœ€è¦è¿›è¡Œæ›´æ”¹ã€‚ &lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;</description>
    </item>
    
  </channel>
</rss>
